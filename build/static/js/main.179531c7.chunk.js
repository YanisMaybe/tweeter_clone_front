(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{151:function(e,t,c){},182:function(e,t){},184:function(e,t){},195:function(e,t){},197:function(e,t){},224:function(e,t){},226:function(e,t){},227:function(e,t){},232:function(e,t){},234:function(e,t){},240:function(e,t){},242:function(e,t){},261:function(e,t){},273:function(e,t){},276:function(e,t){},280:function(e,t,c){"use strict";c.r(t);for(var s,n,r=c(1),a=c.n(r),o=c(53),i=c.n(o),l=(c(151),c(9)),d=c(2),u=c(6),j=c(11),m=c(14),h=c(5),p=c.p+"static/media/bottomArrow.4841de95.svg",b=c.p+"static/media/logout.2224ed0c.svg",O=c(0),f=function(){var e=Object(r.useState)(!0),t=Object(d.a)(e,2),c=t[0],s=t[1],n=Object(h.c)((function(e){return e.actuallyUserReducer})),a=Object(r.useState)(p),o=Object(d.a)(a,2),i=(o[0],o[1]);return Object(r.useEffect)((function(){document.body.clientWidth<=703&&i(n.profilePicture)}),[]),Object(O.jsxs)("div",{className:"header",children:[Object(O.jsxs)(u.b,{to:"/home",children:[Object(O.jsx)("svg",{fill:"#1da1f2",width:"40",heigth:"40",viewBox:"0 0 24 24","aria-hidden":"true",class:"r-k200y r-13gxpu9 r-4qtqp9 r-yyyyoo r-eu3ka r-dnmrzs r-bnwqim r-1plcrui r-lrvibr",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"})})}),Object(O.jsx)("h3",{id:"#twzeiterename1dzadaz",children:"Tweeter"})]}),Object(O.jsxs)("div",{className:"pagesZone",children:[Object(O.jsx)(u.b,{activeClassName:"linkSelected",exact:!0,to:"/home",children:Object(O.jsx)("p",{children:"Home"})}),Object(O.jsx)(u.b,{activeClassName:"linkSelected",to:"/explore/tweets",children:Object(O.jsx)("p",{children:"Explore"})}),Object(O.jsx)(u.b,{activeClassName:"linkSelected",to:"/i/bookmarks",children:Object(O.jsx)("p",{children:"Bookmarks"})})]}),Object(O.jsxs)("div",{className:"profileZone",children:[Object(O.jsxs)("div",{className:"imageBloc",children:[Object(O.jsx)("img",{src:n.profilePicture,id:"frudti2dza5azx\xe9\xe9",alt:"profile"}),Object(O.jsx)("img",{onClick:function(e){if(c){document.querySelector(".profilePopup").classList.remove("none"),s(!1)}else{var t=document.querySelector(".profilePopup");t.classList.add("popupAnimReverse"),setTimeout((function(){t.classList.remove("popupAnimReverse"),t.classList.add("none")}),200),s(!0)}},src:n.profilePicture,id:"krusofa55456\xe9\xe9ef",alt:"profile"})]}),Object(O.jsx)("a",{style:{marginLeft:"5px"},className:"aSpecific",href:"/user/"+n.pseudo,children:Object(O.jsx)("p",{className:"name linkName",children:n.name})}),Object(O.jsx)("img",{onClick:function(e){if(c){document.querySelector(".profilePopup").classList.remove("none"),s(!1),e.target.style.transform="rotateZ(180deg)"}else{var t=document.querySelector(".profilePopup");t.classList.add("popupAnimReverse"),setTimeout((function(){t.classList.remove("popupAnimReverse"),t.classList.add("none")}),200),s(!0),e.target.style.transform="rotateZ(0deg)"}},className:"btn",src:p,alt:"bottom arrow"})]}),Object(O.jsxs)("div",{className:"profilePopup none",children:[Object(O.jsxs)("div",{className:"logout",children:[Object(O.jsx)("img",{src:b,alt:"logout"}),Object(O.jsx)("button",{onClick:function(e){document.cookie="user=; path=/; expires=Thu, 01 Jan 1970 00:00:00 UTC",window.location.reload()},style:{backgroundColor:"transparent"},className:"logoutP btn",children:"logout"})]}),Object(O.jsxs)("div",{className:"profil3",children:[Object(O.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",class:"r-18jsvk2 r-4qtqp9 r-yyyyoo r-lwhw9o r-dnmrzs r-bnwqim r-1plcrui r-lrvibr",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M12 11.816c1.355 0 2.872-.15 3.84-1.256.814-.93 1.078-2.368.806-4.392-.38-2.825-2.117-4.512-4.646-4.512S7.734 3.343 7.354 6.17c-.272 2.022-.008 3.46.806 4.39.968 1.107 2.485 1.256 3.84 1.256zM8.84 6.368c.162-1.2.787-3.212 3.16-3.212s2.998 2.013 3.16 3.212c.207 1.55.057 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.255-.223-2.71-.743c-.507-.578-.657-1.656-.45-3.205zm11.44 12.868c-.877-3.526-4.282-5.99-8.28-5.99s-7.403 2.464-8.28 5.99c-.172.692-.028 1.4.395 1.94.408.52 1.04.82 1.733.82h12.304c.693 0 1.325-.3 1.733-.82.424-.54.567-1.247.394-1.94zm-1.576 1.016c-.126.16-.316.246-.552.246H5.848c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.114 1.994 6.824 4.85c.06.242.017.48-.12.654z"})})}),Object(O.jsx)("a",{id:"prodifled251csq",href:"/user/"+n.pseudo,children:"Profil"})]})]})]})},x=c.p+"static/media/globe.afc98e1e.svg",v=c.p+"static/media/social.f938eede.svg",g=c(3),w=c(8),N=c.n(w),y="CREATE_TWEET",k="GET_TWEETS",I="SAVE_TWEET",S="UN_SAVE_TWEET",P="LIKE_TWEET",C="UN_LIKE_TWEET",B="RETWEET_TWEET",_="UN_RETWEET_TWEET",E="COMMENT_ONE_TWEET",T="LIKE_COMMENT_FROM_TWEET",L="UNLIKE_COMMENT_FROM_TWEET",F=function(e,t,c,s,n,r){return function(a){var o=new FormData;return o.append("commenterId",t),o.append("commenterName",c),o.append("commenterPicture",s),o.append("text",n),o.append("image",r),o.append("date",(new Date).getTime()),o.append("likes",[]),N.a.patch("https://tweeter-clone-back-22.onrender.com/app/commenttweet/"+e,o).then((function(e){e.data.error&&console.error(e.data.error)})).catch((function(e){console.error(e)})),a({type:E,payload:{tweetToCommentId:e,commentInfo:{commenterId:t,commenterName:c,commenterPicture:s,text:n,media:r,likes:[]}}})}},z=function(e){var t=e.posterId,c=e.name,s=e.date,n=e.setAnotherPounce,r=e.posterPseudo,a="",o=Date.now()/1e3/60/60/24-s/1e3/60/60/24;if("string"===typeof s)a=s;else{var i=new Date(s);if(o<1){var l=i.toLocaleString().split(",")[1].split(" ")[1].split(":");a="today at "+(l[0]+":"+l[1])}else if(o>=1){var d=i.toDateString().split(" "),u="";"Mon"===d[0]?u="Monday":"Tue"===d[0]?u="Tuesday":"Thu"===d[0]?u="Thursday":"Sat"===d[0]?u="Saturday":"Fri"===d[0]?u="Friday":"Sun"===d[0]?u="Sunday":"Wed"===d[0]&&(u="Wednesday");var j=i.toLocaleString().split(",")[1].split(" ")[1].split(":"),m=j[0]+":"+j[1];a=u+" "+d[2]+" "+d[1]+" at "+m}}return Object(O.jsxs)("div",{className:"profileBloc",children:[Object(O.jsx)("img",{onError:function(e){e.target.onerror=null,e.target.src="https://abs.twimg.com/sticky/default_profile_images/default_profile_200x200.png"},src:"https://tweeter-clone-back-22.onrender.com/images/".concat(t,".jpg")}),Object(O.jsxs)("div",{className:"userNameAndDate",children:[Object(O.jsx)("a",{onClick:function(){null!==n&&void 0!==n&&n(!0)},userName:c,href:"/user/"+r,children:Object(O.jsx)("p",{className:"name linkName",children:c})}),Object(O.jsx)("p",{className:"date griser",children:a})]})]})},M=c(44),R=c.n(M),q=function(e){var t=e.profilePictureOfCommenter,c=e.commenterName,s=e.date,n=e.message,a=e.likes,o=e.userId,i=e.tweetId,l=e.commentId,u=e.media,j=e.setJustOnePonce,m=Object(r.useState)(""),p=Object(d.a)(m,2),b=p[0],f=p[1],x=Object(r.useState)(R.a.randomBytes(4).toString("hex")),v=Object(d.a)(x,2),g=v[0],w=(v[1],Object(r.useState)("#BDBDBD")),y=Object(d.a)(w,2),k=y[0],I=y[1],S=Object(h.b)(),P=Object(r.useState)(""),C=Object(d.a)(P,2),B=C[0],_=C[1];return Object(r.useEffect)((function(){var e=Date.now()/1e3/60/60/24-s/1e3/60/60/24;if("string"===typeof s)_(s);else{var t=new Date(s);if(e<1){var c=t.toLocaleString().split(",")[1].split(" ")[1].split(":"),n=c[0]+":"+c[1];_("today at "+n)}else if(e>=1){var r=t.toDateString().split(" "),i="";"Mon"===r[0]?i="Monday":"Tue"===r[0]?i="Tuesday":"Thu"===r[0]?i="Thursday":"Sat"===r[0]?i="Saturday":"Fri"===r[0]?i="Friday":"Sun"===r[0]?i="Sunday":"Wed"===r[0]&&(i="Wednesday");var l=t.toLocaleString().split(",")[1].split(" ")[1].split(":"),d=l[0]+":"+l[1];_(i+" "+r[2]+" "+r[1]+" at "+d)}}a.forEach((function(e){var t=document.getElementById(g);e===o&&(t.children[0].children[1].children[1].children[0].children[1].textContent="Liked",I("#EB5757"),f("liked"))}))}),[b]),Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"comment",id:g,children:Object(O.jsxs)("div",{className:"principaleFunc",children:[Object(O.jsx)("div",{className:"profilePictureOfCommenter",children:Object(O.jsx)("img",{className:"profilePicture",src:t,alt:"profilePictureOfCommenter"})}),Object(O.jsxs)("div",{className:"outOfPictureYouNow",children:[Object(O.jsxs)("div",{className:"TheMessageOfCommente",children:[Object(O.jsxs)("div",{className:"TheHeadPartOfComment",children:[Object(O.jsx)("p",{className:"commentNameOfComment",children:c}),Object(O.jsx)("p",{className:"griser",children:B})]}),Object(O.jsx)("div",{className:"contentOfComment",children:Object(O.jsx)("p",{children:n})}),null!==u&&Object(O.jsx)("div",{className:"potontielImage",children:Object(O.jsx)("img",{className:"basicImageInPost",src:u+"",alt:"media"})})]}),Object(O.jsxs)("div",{className:"supFunctions",children:[Object(O.jsxs)("div",{className:"likeFunc btn ".concat(b),onClick:function(){var e=document.getElementById(g).children[0].children[1].children[1].children[0];"liked"===e.classList[2]?(e.classList.remove("liked"),e.children[1].textContent="Like",console.log("ceci est un unliked"),I("#BDBDBD"),S(function(e,t,c){return function(s){var n={likerId:t,commentId:c};return N.a.patch("https://tweeter-clone-back-22.onrender.com/app/tweets/comments/unlike/"+e,n).then((function(e){e.data.error&&console.error(e.data.error)})).catch((function(e){console.error(e)})),s({type:L,payload:{likerId:t,tweetId:e,commentId:c}})}}(i,o,l)),j&&j(!0)):(I("#EB5757"),console.log("ceci est un liked"),e.classList.add("liked"),e.children[1].textContent="Liked",S(function(e,t,c){return function(s){var n={likerId:t,commentId:c};return N.a.patch("https://tweeter-clone-back-22.onrender.com/app/tweets/comments/like/"+e,n).then((function(e){e.data.error&&console.error(e.data.error)})).catch((function(e){console.error(e)})),s({type:T,payload:{likerId:t,tweetId:e,commentId:c}})}}(i,o,l)),j&&j(!0))},children:[Object(O.jsx)("svg",{fill:k,width:"16.67",height:"14.71",viewBox:"0 -28 512.001 512",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"m256 455.515625c-7.289062 0-14.316406-2.640625-19.792969-7.4375-20.683593-18.085937-40.625-35.082031-58.21875-50.074219l-.089843-.078125c-51.582032-43.957031-96.125-81.917969-127.117188-119.3125-34.644531-41.804687-50.78125-81.441406-50.78125-124.742187 0-42.070313 14.425781-80.882813 40.617188-109.292969 26.503906-28.746094 62.871093-44.578125 102.414062-44.578125 29.554688 0 56.621094 9.34375 80.445312 27.769531 12.023438 9.300781 22.921876 20.683594 32.523438 33.960938 9.605469-13.277344 20.5-24.660157 32.527344-33.960938 23.824218-18.425781 50.890625-27.769531 80.445312-27.769531 39.539063 0 75.910156 15.832031 102.414063 44.578125 26.191406 28.410156 40.613281 67.222656 40.613281 109.292969 0 43.300781-16.132812 82.9375-50.777344 124.738281-30.992187 37.398437-75.53125 75.355469-127.105468 119.308594-17.625 15.015625-37.597657 32.039062-58.328126 50.167969-5.472656 4.789062-12.503906 7.429687-19.789062 7.429687zm-112.96875-425.523437c-31.066406 0-59.605469 12.398437-80.367188 34.914062-21.070312 22.855469-32.675781 54.449219-32.675781 88.964844 0 36.417968 13.535157 68.988281 43.882813 105.605468 29.332031 35.394532 72.960937 72.574219 123.476562 115.625l.09375.078126c17.660156 15.050781 37.679688 32.113281 58.515625 50.332031 20.960938-18.253907 41.011719-35.34375 58.707031-50.417969 50.511719-43.050781 94.136719-80.222656 123.46875-115.617188 30.34375-36.617187 43.878907-69.1875 43.878907-105.605468 0-34.515625-11.605469-66.109375-32.675781-88.964844-20.757813-22.515625-49.300782-34.914062-80.363282-34.914062-22.757812 0-43.652344 7.234374-62.101562 21.5-16.441406 12.71875-27.894532 28.796874-34.609375 40.046874-3.453125 5.785157-9.53125 9.238282-16.261719 9.238282s-12.808594-3.453125-16.261719-9.238282c-6.710937-11.25-18.164062-27.328124-34.609375-40.046874-18.449218-14.265626-39.34375-21.5-62.097656-21.5zm0 0"})}),Object(O.jsx)("p",{style:{color:k},className:"griser",children:"Like"})]}),Object(O.jsx)("div",{className:"transistorTypeTwo"}),Object(O.jsx)("div",{className:"numberOfLikesOfComment",children:1===a.length?Object(O.jsxs)("p",{className:"griser",children:[a.length," Like"]}):Object(O.jsxs)("p",{className:"griser",children:[a.length," Likes"]})})]})]})]})})})},H=function(e){var t=e.weAreInTheProfilePage,c=e.setVerySpecialPounce,s=e.theTweet,n=e.specialPounce,a=(e.indexTwo,e.index),o=e.pounceOftweet,i=e.posterId,l=e.posterPseudo,u=e.posterName,j=(e.userPicture,e.comments),m=e.saves,p=e.retweets,b=e.message,f=e.media,x=e.userId,v=e.tweetId,g=e.likes,w=e.date,y=e.user,k=e.setJustOnePonce,E=e.EmptyConfig,T=e.setAnotherPounce,L="TweetNumnber"+a,M=Object(h.b)(),R=Object(h.c)((function(e){return e.tweetsReducer})),H=(Object(h.c)((function(e){return e.actuallyUserReducer})),Object(h.c)((function(e){return e.usersReducer}))),U=Object(r.useState)("https://tweeter-clone-back-22.onrender.com/images/".concat(i,".jpg")),A=Object(d.a)(U,2),D=(A[0],A[1]),V=Object(r.useState)(""),W=Object(d.a)(V,2);W[0],W[1];Object(r.useEffect)((function(){var e=!0;H.forEach((function(t){t._id===s.posterId&&(e=!1)})),e&&c&&c(!0),c&&c(!0)}),[c]);var Z=Object(r.useState)("likeButton"),X=Object(d.a)(Z,2),G=X[0],J=X[1],Y=Object(r.useState)("saveButton"),K=Object(d.a)(Y,2),Q=K[0],$=K[1],ee=Object(r.useState)("retweetButtonM"),te=Object(d.a)(ee,2),ce=te[0],se=te[1],ne=Object(r.useState)(!1),re=Object(d.a)(ne,2),ae=re[0],oe=re[1],ie=Object(r.useState)(j?j.length:0),le=Object(d.a)(ie,2),de=le[0],ue=(le[1],Object(r.useState)(2)),je=Object(d.a)(ue,2),me=je[0],he=je[1],pe=function(){k&&k(!0);var e,t,c=document.getElementById(L).children[3].children[1];"retweetButtonM"===c.classList[0]?(c.children[1].textContent="Retweeted",c.classList.replace("retweetButtonM","retweetedButtonM"),M((e=x,t=s.date,function(c){N.a.patch("https://tweeter-clone-back-22.onrender.com/app/reteweetTweet/"+t,{retweeterId:e}).then((function(e){e.data.error&&(console.error(e.data.error),console.error("ceci est une erreur"))})).catch((function(e){console.error("err: "+e)})),c({type:B,payload:{_id:e,tweetToRetweetId:t}})}))):"retweetedButtonM"===c.classList[0]&&(c.children[1].textContent="Retweet",c.classList.replace("retweetedButtonM","retweetButtonM"),M(function(e,t,c){return function(c){N.a.patch("https://tweeter-clone-back-22.onrender.com/app/unreteweetTweet/"+t,{retweeterId:e}).then((function(e){e.data.error&&console.error(e.data.error)})).catch((function(e){console.error("err: "+e)})),c({type:_,payload:{_id:t}})}}(x,s.date)))},be=function(){k&&k(!0);var e,t,c=document.getElementById(L).children[3].children[3];"saveButton"===c.classList[0]?($("savedButton"),M(function(e,t,c){return function(s){console.log(e+"  et  "+t+"     et    "+c),s({type:I,payload:{_id:t}}),N.a.patch("https://tweeter-clone-back-22.onrender.com/app/savetweet/"+t,{saverId:e,date:c}).then((function(t){!t.data.error&&t?console.log("requ\xeate reussi !"):(console.error(t.data.error),N.a.patch("https://tweeter-clone-back-22.onrender.com/app/savetweet/"+c,{saverId:e}).then((function(e){e.data.error&&console.error(e.data.error)})))})).catch((function(e){console.error("err: "+e)}))}}(x,s.date))):"savedButton"===c.classList[0]&&(c.children[1].textContent="Save",c.classList.replace("savedButton","saveButton"),$("saveButton"),M((e=x,t=s.date,function(c){c({type:S,payload:{_id:t}}),N.a.patch("https://tweeter-clone-back-22.onrender.com/app/unsavetweet/"+t,{saverId:e}).then((function(e){e.data.error&&console.error(e.data.error)})).catch((function(e){console.error("err: "+e)}))})),k&&k(!0))},Oe=Object(r.useState)(o),fe=Object(d.a)(Oe,2),xe=fe[0],ve=(fe[1],Object(r.useState)(!0)),ge=Object(d.a)(ve,2),we=ge[0],Ne=ge[1];Object(r.useEffect)((function(){if(we&&R.length>0)if(!E&&(m.length>0||p.length>0||g.length>0))R.forEach((function(e){e._id===v&&(e.likes.forEach((function(e){e===x&&J("likedButton")})),e.saves.forEach((function(e){e===x&&$("savedButton")})),e.retweets.forEach((function(e){e===x&&se("retweetedButtonM")})))})),Ne(!1);else if(E&&0===m.length&&0===p.length&&0===g.length){se("retweetButtonM"),$("saveButton"),J("likeButton"),Ne(!1);document.getElementById("commentButton_dza56dzda156da");var e=document.getElementById("retweetButton_dazd2ad1za3d"),t=document.getElementById("likeButton_dsq21dqs56d1q894fr89t"),c=document.getElementById("SaveParent_1t56h151cqs231z");t.children[0].style="color:#4f4f4f",t.children[1].style="fill:#4f4f4f",e.children[0].style="color:#4f4f4f",e.children[1].style="fill:#4f4f4f",c.children[0].style="color:#4f4f4f",c.children[1].style="fill:#4f4f4f",t.children[1].textContent="Like",e.children[1].textContent="retweet",c.children[1].textContent="save"}}),[G,Q,ce,xe,we]),setTimeout((function(){Ne(!0)}),1e3);Object(r.useEffect)((function(){document.getElementById(Ie).innerHTML="<p>".concat(b,"</p>")}),[n]);var ye=Object(r.useState)(Math.random().toString(16).slice(2)),ke=Object(d.a)(ye,2),Ie=ke[0];ke[1];return Object(O.jsx)(O.Fragment,{children:j&&m&&p&&Object(O.jsxs)("div",{className:"Tweet",id:L,children:[Object(O.jsx)("div",{className:"head",children:Object(O.jsx)(z,{posterId:s.posterId,setAnotherPounce:T,posterPseudo:l,name:u,date:w,userPicture:D})}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)("div",{className:"message",children:Object(O.jsx)("p",{id:Ie,className:"theMessageSpe",children:b})}),f&&Object(O.jsx)("div",{className:"potontialPicture",children:Object(O.jsx)("img",{src:f,alt:"potontial"})}),j&&m&&p&&Object(O.jsxs)("div",{className:"statistiques",children:[Object(O.jsxs)("p",{className:"numberOfComments griser",children:[j.length," comments"]}),Object(O.jsxs)("p",{className:"numberOfRetweets griser",children:[p.length," retweets"]}),Object(O.jsxs)("p",{className:"numberOfSaves griser",children:[m.length," saves"]})]})]}),Object(O.jsx)("div",{style:{marginTop:"-4px"},className:"transistor"}),Object(O.jsxs)("div",{className:"interactionZone",children:[Object(O.jsxs)("div",{id:"commentButton_dza56dzda156da",onClick:function(e){return oe(!ae)},className:"commentButton btn interactionButton",children:[Object(O.jsx)("svg",{fill:"#4F4F4F",height:"16.67",viewBox:"0 0 512 512",width:"16.67",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"m456.835938 0h-401.667969c-30.421875 0-55.167969 24.746094-55.167969 55.167969v294.238281c0 30.417969 24.746094 55.164062 55.167969 55.164062h127.296875l42.15625 84.316407c7.34375 14.6875 18.78125 23.113281 31.378906 23.113281s24.035156-8.425781 31.378906-23.113281l42.160156-84.316407h127.296876c30.417968 0 55.164062-24.746093 55.164062-55.164062v-294.238281c0-30.421875-24.746094-55.167969-55.164062-55.167969zm25.164062 349.40625c0 13.875-11.289062 25.164062-25.164062 25.164062h-136.566407c-5.683593 0-10.875 3.210938-13.417969 8.292969l-46.304687 92.605469c-1.867187 3.734375-3.621094 5.570312-4.546875 6.273438-.925781-.703126-2.679688-2.539063-4.546875-6.273438l-46.304687-92.605469c-2.539063-5.082031-7.734376-8.292969-13.414063-8.292969h-136.566406c-13.878907 0-25.167969-11.289062-25.167969-25.164062v-294.238281c0-13.878907 11.289062-25.167969 25.167969-25.167969h401.667969c13.875 0 25.164062 11.289062 25.164062 25.167969zm0 0"})}),Object(O.jsx)("p",{children:"Comment"})]}),Object(O.jsxs)("div",{id:"retweetButton_dazd2ad1za3d",onClick:pe,className:"".concat(ce," btn interactionButton"),children:[Object(O.jsxs)("svg",{onClick:pe,className:"retweetSvgButton",fill:"#4F4F4F",width:"13.33",height:"17.15",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",children:[Object(O.jsx)("g",{children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M493.815,70.629c-11.001-1.003-20.73,7.102-21.733,18.102l-2.65,29.069C424.473,47.194,346.429,0,256,0\r C158.719,0,72.988,55.522,30.43,138.854c-5.024,9.837-1.122,21.884,8.715,26.908c9.839,5.024,21.884,1.123,26.908-8.715\r C102.07,86.523,174.397,40,256,40c74.377,0,141.499,38.731,179.953,99.408l-28.517-20.367c-8.989-6.419-21.48-4.337-27.899,4.651\r c-6.419,8.989-4.337,21.479,4.651,27.899l86.475,61.761c12.674,9.035,30.155,0.764,31.541-14.459l9.711-106.53\r C512.919,81.362,504.815,71.632,493.815,70.629z"})})}),Object(O.jsx)("g",{children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M472.855,346.238c-9.838-5.023-21.884-1.122-26.908,8.715C409.93,425.477,337.603,472,256,472\r c-74.377,0-141.499-38.731-179.953-99.408l28.517,20.367c8.989,6.419,21.479,4.337,27.899-4.651\r c6.419-8.989,4.337-21.479-4.651-27.899l-86.475-61.761c-12.519-8.944-30.141-0.921-31.541,14.459l-9.711,106.53\r c-1.003,11,7.102,20.73,18.101,21.733c11.014,1.001,20.731-7.112,21.733-18.102l2.65-29.069C87.527,464.806,165.571,512,256,512\r c97.281,0,183.012-55.522,225.57-138.854C486.594,363.309,482.692,351.262,472.855,346.238z"})})})]}),Object(O.jsx)("p",{style:t?{}:0===p.length?{color:"#4f4f4f"}:{},onClick:pe,children:t?"retweetedButtonM"===ce?"Retweeted":"retweetButtonM"===ce&&"Retweet":0===p.length?"Retweet":"retweetedButtonM"===ce?"Retweeted":"retweetButtonM"===ce&&"Retweet"}),Object(O.jsx)("button",{className:"btn retweetButtonResolveProblem",children:"a"})]}),Object(O.jsxs)("div",{id:"likeButton_dsq21dqs56d1q894fr89t",onClick:function(){k&&k(!0);var e,t,c=document.getElementById(L).children[3].children[2];"likeButton"===c.classList[0]?(c.children[1].textContent="Liked",c.classList.replace("likeButton","likedButton"),setTimeout((function(){var e,t;M((e=x,t=s.date,function(c){N.a.patch("https://tweeter-clone-back-22.onrender.com/app/liketweet/"+t,{likerId:e}).then((function(e){e.data.error?console.error(e.data.error):c({type:P,payload:e.data})})).catch((function(e){console.error("err: "+e)}))})),k&&k(!0)}),200)):"likedButton"===c.classList[0]&&(c.children[1].textContent="Like",c.classList.replace("likedButton","likeButton"),M((e=x,t=s.date,function(c){N.a.patch("https://tweeter-clone-back-22.onrender.com/app/unliketweet/"+t,{likerId:e}).then((function(e){e.data.error?console.error(e.data.error):c({type:C,payload:e.data})})).catch((function(e){console.error("err: "+e)}))})),k&&k(!0))},className:"".concat(G," btn interactionButton"),children:[Object(O.jsx)("svg",{width:"16.67",height:"14.71",viewBox:"0 -28 512.001 512",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"m256 455.515625c-7.289062 0-14.316406-2.640625-19.792969-7.4375-20.683593-18.085937-40.625-35.082031-58.21875-50.074219l-.089843-.078125c-51.582032-43.957031-96.125-81.917969-127.117188-119.3125-34.644531-41.804687-50.78125-81.441406-50.78125-124.742187 0-42.070313 14.425781-80.882813 40.617188-109.292969 26.503906-28.746094 62.871093-44.578125 102.414062-44.578125 29.554688 0 56.621094 9.34375 80.445312 27.769531 12.023438 9.300781 22.921876 20.683594 32.523438 33.960938 9.605469-13.277344 20.5-24.660157 32.527344-33.960938 23.824218-18.425781 50.890625-27.769531 80.445312-27.769531 39.539063 0 75.910156 15.832031 102.414063 44.578125 26.191406 28.410156 40.613281 67.222656 40.613281 109.292969 0 43.300781-16.132812 82.9375-50.777344 124.738281-30.992187 37.398437-75.53125 75.355469-127.105468 119.308594-17.625 15.015625-37.597657 32.039062-58.328126 50.167969-5.472656 4.789062-12.503906 7.429687-19.789062 7.429687zm-112.96875-425.523437c-31.066406 0-59.605469 12.398437-80.367188 34.914062-21.070312 22.855469-32.675781 54.449219-32.675781 88.964844 0 36.417968 13.535157 68.988281 43.882813 105.605468 29.332031 35.394532 72.960937 72.574219 123.476562 115.625l.09375.078126c17.660156 15.050781 37.679688 32.113281 58.515625 50.332031 20.960938-18.253907 41.011719-35.34375 58.707031-50.417969 50.511719-43.050781 94.136719-80.222656 123.46875-115.617188 30.34375-36.617187 43.878907-69.1875 43.878907-105.605468 0-34.515625-11.605469-66.109375-32.675781-88.964844-20.757813-22.515625-49.300782-34.914062-80.363282-34.914062-22.757812 0-43.652344 7.234374-62.101562 21.5-16.441406 12.71875-27.894532 28.796874-34.609375 40.046874-3.453125 5.785157-9.53125 9.238282-16.261719 9.238282s-12.808594-3.453125-16.261719-9.238282c-6.710937-11.25-18.164062-27.328124-34.609375-40.046874-18.449218-14.265626-39.34375-21.5-62.097656-21.5zm0 0"})}),Object(O.jsx)("p",{style:t?{}:0===g.length?{color:"#4f4f4f"}:{},children:t?"likeButton"===G?"Like":"likedButton"===G&&"Liked":0===g.length||"likeButton"===G?"Like":"likedButton"===G&&"Liked"})]}),Object(O.jsxs)("div",{id:"SaveParent_1t56h151cqs231z",onClick:be,className:"".concat(Q," btn interactionButton"),children:[Object(O.jsx)("svg",{onClick:be,fill:"#000",width:"11.67",height:"15",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 48.065 48.065",xmlSpace:"preserve",children:Object(O.jsx)("path",{d:"M40.908,0H7.158c-0.553,0-1,0.448-1,1v46.065c0,0.401,0.239,0.763,0.608,0.92c0.369,0.157,0.797,0.078,1.085-0.2\r l16.182-15.582l16.182,15.582c0.189,0.183,0.439,0.28,0.693,0.28c0.132,0,0.266-0.026,0.392-0.08c0.369-0.157,0.608-0.52,0.608-0.92\r V1C41.908,0.448,41.46,0,40.908,0z M39.908,44.714L24.726,30.095c-0.193-0.187-0.443-0.28-0.693-0.28s-0.5,0.093-0.693,0.28\r L8.158,44.714V2h31.75V44.714z"})}),Object(O.jsx)("p",{style:t?{}:0===m.length?{color:"#4f4f4f"}:{},onClick:be,children:t?"saveButton"===Q?"Save":"savedButton"===Q&&"Saved":0===m.length||"saveButton"===Q?"Save":"savedButton"===Q&&"Saved"}),Object(O.jsx)("button",{className:"btn retweetButtonResolveProblem",children:"a"})]})]}),Object(O.jsx)("div",{style:{position:"relative",top:"8px"},className:"transistor"}),ae&&Object(O.jsxs)("div",{className:"AllCommentsZone",children:[Object(O.jsxs)("div",{className:"formPart",children:[Object(O.jsx)("div",{className:"posterPictureInfo",children:Object(O.jsx)("img",{className:"profilePicture",src:y.profilePicture,alt:"principale"})}),Object(O.jsxs)("form",{style:{borderRadius:"8px"},onSubmit:function(e){e.preventDefault(),e.target[1].files[0]||e.target[0].value?(e.target[1].files[0]?M(F(v,x,y.pseudo,y.profilePicture,e.target[0].value,e.target[1].files[0])):M(F(v,x,y.pseudo,y.profilePicture,e.target[0].value,null)),he(me+1)):(console.error("erreur: tout les champs sont vides"),e.target[0].parentElement.classList.add("errorInputVibration"),setTimeout((function(){e.target[0].parentElement.classList.remove("errorInputVibration")}),750)),k&&k(!0),e.target[1].value=null,e.target[0].value=""},children:[Object(O.jsx)("input",{type:"text",placeholder:"twetter votre reponse",className:"tweetReply"}),Object(O.jsxs)("div",{className:"fileInput7c3A",children:[Object(O.jsx)("label",{for:"inputFile2d1d5za",children:Object(O.jsx)("svg",{fill:"#BDBDBD",width:"15",height:"15",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",children:Object(O.jsx)("g",{children:Object(O.jsx)("g",{children:Object(O.jsxs)("g",{children:[Object(O.jsx)("path",{d:"M464,0H48C21.49,0,0,21.49,0,48v416c0,26.51,21.49,48,48,48h416c26.51,0,48-21.49,48-48V48C512,21.49,490.51,0,464,0z\r M480,464c0,8.837-7.163,16-16,16H48c-8.837,0-16-7.163-16-16V48c0-8.837,7.163-16,16-16h416c8.837,0,16,7.163,16,16V464z"}),Object(O.jsx)("path",{d:"M347.36,276.64c-6.241-6.204-16.319-6.204-22.56,0l-36.8,36.8l-68.64-68.64c-6.241-6.204-16.319-6.204-22.56,0l-112,112\r c-6.186,6.31-6.087,16.44,0.223,22.626c2.935,2.878,6.866,4.516,10.977,4.574h320c8.836,0.051,16.041-7.07,16.093-15.907\r c0.025-4.299-1.681-8.426-4.733-11.453L347.36,276.64z"}),Object(O.jsx)("circle",{cx:"304",cy:"176",r:"48"})]})})})})}),Object(O.jsx)("input",{style:{display:"none"},id:"inputFile2d1d5za",name:"inputFile2d1d5za",accept:".jpg, .jpeg, .png",type:"file",className:"postPictureInCommentInput"})]})]})]}),Object(O.jsx)("div",{className:"latestComments",children:j.sort((function(e,t){return t.date-e.date})).map((function(e,t){return t<me?Object(O.jsx)(q,{media:e.media,commentId:e._id,tweetId:v,userId:x,profilePictureOfCommenter:e.commenterPicture,commenterName:e.commenterName,date:e.date,message:e.text,likes:e.likes,setJustOnePonce:k}):null}))}),Object(O.jsx)("div",{style:{position:"relative",marginTop:"26px"},className:"seeMoreComment",children:Object(O.jsx)("svg",{onClick:function(e){"dontShowMore"===e.target.classList[1]?(e.target.classList.replace("dontShowMore","showMore"),he(2)):(e.target.classList.replace("showMore","dontShowMore"),he(de))},className:"btn showMore",width:"12.18",height:"9.59",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 612.004 612.004",xmlSpace:"preserve",children:Object(O.jsx)("g",{children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M499.147,160.094L330.222,329.019c-6.472,6.472-15.075,10.035-24.223,10.035c-9.146,0-17.749-3.561-24.218-10.035\r L112.854,160.094c-25.822-25.817-67.674-25.817-93.491,0c-25.817,25.819-25.817,67.674,0,93.491L188.29,422.508\r c31.443,31.445,73.245,48.764,117.712,48.764s86.269-17.319,117.714-48.761l168.925-168.925c25.817-25.817,25.817-67.674,0-93.491\r C566.822,134.277,524.962,134.277,499.147,160.094z"})})})})})]})]})})},U=function(e){var t=e.user,c=e.setVerySpecialPounce,s=(e.tweets,Object(r.useState)("Everyone")),n=Object(d.a)(s,2),a=n[0],o=n[1],i=Object(r.useState)(null),l=Object(d.a)(i,2),u=l[0],j=l[1],m=Object(r.useState)(null),p=Object(d.a)(m,2),b=p[0],f=p[1],w=Object(r.useState)(" "),k=Object(d.a)(w,2),I=k[0],S=k[1],P=Object(r.useState)(!0),C=Object(d.a)(P,2),B=C[0],_=C[1],E=Object(h.b)(),T=Object(r.useState)(!0),L=Object(d.a)(T,2),F=L[0],z=L[1],M=t.profilePicture,R=Object(h.c)((function(e){return e.tweetsReducer})),q=Object(h.c)((function(e){return e.actuallyUserReducer})),U=Object(r.useState)(R),A=Object(d.a)(U,2),D=(A[0],A[1]),V=Object(r.useState)(""),W=Object(d.a)(V,2),Z=W[0],X=W[1],G=Object(r.useState)(!0),J=Object(d.a)(G,2),Y=J[0],K=J[1];Object(r.useEffect)((function(){(null!==u||!/^[ ]+$/.test(I)&&!/^[]+$/.test(I)&&""!==I)&&""!==I.replace(/(\r\n|\n|\r)/gm,"")?_(!1):_(!0),Y&&(D(R),K(!1))}),[b,I,B,u,Y]);var Q=Object(r.useState)(2),$=Object(d.a)(Q,2),ee=$[0],te=$[1];return window.addEventListener("scroll",(function(e){var t=e.target.scrollingElement,c=document.querySelectorAll(".tweets > .Tweet");ee<=c.length&&t.scrollHeight-t.scrollTop===t.clientHeight&&te((function(e){return e+2}))})),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"tweetsZone",children:[Object(O.jsx)("div",{className:"posttweet",children:Object(O.jsxs)("div",{className:"postTweetContainer",children:[Object(O.jsx)("p",{className:"tweetSomething",children:"Tweeter quelque chose"}),Object(O.jsx)("div",{style:{marginBottom:"5px"},className:"transistor"}),Object(O.jsxs)("form",{onSubmit:function(e){K(!0),e.preventDefault();var t="Everyone"===a;E(function(e,t,c,s,n,r,a,o,i,l,d){return function(u){var j=new FormData;j.append("posterName",e),j.append("posterId",t),j.append("posterPicture",c),j.append("image",s),j.append("text",n),j.append("saves",[]),j.append("retweets",[]),j.append("comments",[]),j.append("likes",[]),j.append("everyOneCanReply",r),j.append("userFollowings",a),j.append("posterPseudo",i);var m={posterName:d.name,posterId:d._id,posterPicture:d.profilePicture,posterPseudo:d.pseudo,text:n,userFollowings:a,likes:[],comments:[],saves:[],retweets:[],everyOneCanReply:r};return console.log("voici au cas ou la data"),console.log(m),l(!0),N.a.post("https://tweeter-clone-back-22.onrender.com/app/createtweet",j).then((function(e){return e.data.error?{}:(l(!1),u({type:y,payload:Object(g.a)(Object(g.a)({},m),{},{date:e.data.date,media:e.data.media,EmptyConfig:o,liked:!1,saved:!1,retweeted:!1})}))})).catch((function(e){return console.error(e),{}}))}}(q.name,q._id,M,b,I,t,q.followings,!0,q.pseudo,_,q)),document.getElementById("textareaForTweet").value="",f(null),j(null),_(!0),z(!0)},className:"tweetForm",children:[Object(O.jsxs)("div",{className:"inputs",children:[Object(O.jsxs)("div",{className:"firstPart",children:[Object(O.jsx)("img",{alt:"prof",src:M}),Object(O.jsx)("textarea",{maxLength:"360",id:"textareaForTweet",onChange:function(e){return S(e.target.value)},style:{resize:"none"},type:"text",placeholder:"Quoi de neuf?"})]}),Object(O.jsx)("div",{className:"imageSelected",children:u&&Object(O.jsx)("img",{src:u,alt:"em"})})]}),Object(O.jsxs)("div",{className:"submit",children:[Object(O.jsxs)("div",{className:"anotherLittleInputs",children:[Object(O.jsxs)("div",{className:"pictureInput",children:[Object(O.jsx)("label",{for:"fileInput123sqd",children:Object(O.jsx)("svg",{fill:"#2F80ED",width:"15",height:"15",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",children:Object(O.jsx)("g",{children:Object(O.jsx)("g",{children:Object(O.jsxs)("g",{children:[Object(O.jsx)("path",{d:"M464,0H48C21.49,0,0,21.49,0,48v416c0,26.51,21.49,48,48,48h416c26.51,0,48-21.49,48-48V48C512,21.49,490.51,0,464,0z\r M480,464c0,8.837-7.163,16-16,16H48c-8.837,0-16-7.163-16-16V48c0-8.837,7.163-16,16-16h416c8.837,0,16,7.163,16,16V464z"}),Object(O.jsx)("path",{d:"M347.36,276.64c-6.241-6.204-16.319-6.204-22.56,0l-36.8,36.8l-68.64-68.64c-6.241-6.204-16.319-6.204-22.56,0l-112,112\r c-6.186,6.31-6.087,16.44,0.223,22.626c2.935,2.878,6.866,4.516,10.977,4.574h320c8.836,0.051,16.041-7.07,16.093-15.907\r c0.025-4.299-1.681-8.426-4.733-11.453L347.36,276.64z"}),Object(O.jsx)("circle",{cx:"304",cy:"176",r:"48"})]})})})})}),Object(O.jsx)("input",{style:{display:"none"},name:"fileInput123sqd",id:"fileInput123sqd",onChange:function(e){e.target.files[0]&&(j(URL.createObjectURL(e.target.files[0])),f(e.target.files[0]))},type:"file",accept:".jpg, .jpeg, .png",className:"selectFileForTweet"})]}),Object(O.jsxs)("div",{onClick:function(){document.querySelector(".whoCanReplyBloc").classList.remove("none")},className:"howCanReply btn",children:[Object(O.jsx)("svg",{className:"btn",width:"16.67",height:"16.67",fill:"#2F80ED",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",children:Object(O.jsx)("g",{children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M256,0C114.844,0,0,114.844,0,256s114.844,256,256,256s256-114.844,256-256S397.156,0,256,0z M256,469.333\r c-58.116,0-110.82-23.418-149.333-61.238v-34.762c0-10.146,4.542-16.677,9.792-24.24C121.865,341.313,128,332.49,128,320\r c0-20.344-18.365-22.406-28.24-23.51c-7.063-0.792-13.729-1.542-17.552-5.365c-2.896-2.896-5.792-8.156-8.854-13.719\r c-6.081-11.064-14.324-25.695-30.017-34.656C50.236,131.296,142.837,42.667,256,42.667c5.855,0,11.611,0.414,17.349,0.879\r c-1.168,0.767-2.599,1.288-3.557,2.246c-2.073,2.073-3.208,4.917-3.125,7.854c0.094,2.927,1.385,5.698,3.573,7.656\r c3.833,3.406,4.573,5.125,4.719,5.125c-0.24,0.51-2.198,3.854-13.115,9.396c-18.021,9.135-38.833,27.833-41.927,47.292\r c-1.417,8.833,1.146,17.031,7.208,23.094c2,2,4.708,3.125,7.542,3.125c14.813,0,26.26-5.479,37.333-10.771\r C283.365,133.135,294.104,128,309.333,128c41.865,0,74.667,9.375,74.667,21.333c0,4.385-1.365,5.729-1.885,6.229\r c-5.24,5.156-23.083,4.823-38.771,4.583c-4.156-0.073-8.406-0.146-12.677-0.146c-14.479,0-18.969-2.115-24.167-4.573\r c-6.052-2.854-12.906-6.094-29.167-6.094c-17.583,0-50.26,3.177-71.542,24.458c-17.406,17.396-15.563,38.208-14.354,51.969\r c0.281,3.167,0.563,6.167,0.563,8.906c0,21.01,21.469,32,42.667,32c32.604,0,60.792,6.083,64,10.667\r c0,11.938,3.552,20.094,6.406,26.635c2.375,5.469,4.26,9.781,4.26,16.031c0,4.833-0.792,5.865-2.927,8.615\r c-4.073,5.292-7.74,11.052-7.74,23.385c0,22.448,21.615,47.073,24.073,49.813c2.052,2.271,4.948,3.521,7.927,3.521\r c0.885,0,1.771-0.104,2.646-0.333c6.281-1.615,61.354-16.771,61.354-53c0-11.354,3.531-14.417,8.885-19.063\r c5.25-4.563,12.448-10.802,12.448-23.604c0-8.552,15.177-30.625,29.24-46.177c1.99-2.198,2.979-5.135,2.719-8.094\r c-0.26-2.958-1.74-5.677-4.083-7.49c-8.292-6.427-31.188-27.354-38.854-47.656c4.344,2.271,9.781,5.969,14.104,10.292\r c3.552,3.573,8.313,5.281,13.729,5.063c8.639-0.493,18.902-7.319,28.628-15.833c4.975,18.046,7.852,36.956,7.852,56.563\r C469.333,373.635,373.635,469.333,256,469.333z"})})})}),Object(O.jsxs)("p",{className:"btn",children:[a," can reply"]})]}),Object(O.jsxs)("div",{className:"whoCanReplyBloc none",children:[Object(O.jsxs)("div",{className:"AllP",children:[Object(O.jsx)("h3",{children:"Who can reply?"}),Object(O.jsx)("p",{children:"Choose who can reply to this tweet"})]}),Object(O.jsxs)("div",{onClick:function(){document.querySelector(".whoCanReplyBloc").classList.add("none")},className:"TheChoices",children:[Object(O.jsxs)("div",{onClick:function(){o("Everyone")},className:"EveryOne choice btn",children:[Object(O.jsx)("img",{className:"btn",alt:"globe",src:x}),Object(O.jsx)("p",{children:"Everyone"})]}),Object(O.jsxs)("div",{onClick:function(){return o("People you follow")},className:"peopleYouFollow choice btn",children:[Object(O.jsx)("img",{className:"btn",alt:"people",src:v}),Object(O.jsx)("p",{children:"People you follow"})]})]})]})]}),B?Object(O.jsx)("input",{disabled:!0,className:"submitButton btn disabled",value:"Tweet",type:"submit"}):Object(O.jsx)("input",{disabled:!1,className:"submitButton btn",value:"Tweet",type:"submit"})]})]})]})}),Object(O.jsxs)("div",{className:"ifYouRetwetted",children:[Object(O.jsxs)("svg",{fill:"#828282",width:"13.33",height:"17.15",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",xmlSpace:"preserve",children:[Object(O.jsx)("g",{children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M493.815,70.629c-11.001-1.003-20.73,7.102-21.733,18.102l-2.65,29.069C424.473,47.194,346.429,0,256,0\r C158.719,0,72.988,55.522,30.43,138.854c-5.024,9.837-1.122,21.884,8.715,26.908c9.839,5.024,21.884,1.123,26.908-8.715\r C102.07,86.523,174.397,40,256,40c74.377,0,141.499,38.731,179.953,99.408l-28.517-20.367c-8.989-6.419-21.48-4.337-27.899,4.651\r c-6.419,8.989-4.337,21.479,4.651,27.899l86.475,61.761c12.674,9.035,30.155,0.764,31.541-14.459l9.711-106.53\r C512.919,81.362,504.815,71.632,493.815,70.629z"})})}),Object(O.jsx)("g",{children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M472.855,346.238c-9.838-5.023-21.884-1.122-26.908,8.715C409.93,425.477,337.603,472,256,472\r c-74.377,0-141.499-38.731-179.953-99.408l28.517,20.367c8.989,6.419,21.479,4.337,27.899-4.651\r c6.419-8.989,4.337-21.479-4.651-27.899l-86.475-61.761c-12.519-8.944-30.141-0.921-31.541,14.459l-9.711,106.53\r c-1.003,11,7.102,20.73,18.101,21.733c11.014,1.001,20.731-7.112,21.733-18.102l2.65-29.069C87.527,464.806,165.571,512,256,512\r c97.281,0,183.012-55.522,225.57-138.854C486.594,363.309,482.692,351.262,472.855,346.238z"})})})]}),Object(O.jsx)("p",{children:"You retwetted"})]}),Object(O.jsx)("div",{className:"tweets",children:R.sort((function(e,t){return t.date-e.date})).map((function(e,s){if(s<ee)return e.everyOneCanReply||e.posterId===t._id?Object(O.jsx)(H,{theImage:Z,setTheImage:X,posterId:e.posterId,setVerySpecialPounce:c,posterPseudo:e.posterPseudo,theTweet:e,index:s,pounceOfTweet:F,EmptyConfig:e.EmptyConfig,userFollowings:e.userFollowings,posterName:e.posterName,user:t,likes:e.likes,userId:t._id,tweetId:e._id,date:e.date,userPicture:M,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media},s):e.userFollowings.map((function(n,r){return n+""===t._id+""?Object(O.jsx)(H,{theImage:Z,setTheImage:X,posterId:e.posterId,setVerySpecialPounce:c,posterPseudo:e.posterPseudo,theTweet:e,index:s,pounceOfTweet:F,userFollowings:e.userFollowings,posterName:e.posterName,user:t,likes:e.likes,userId:t._id,tweetId:e._id,date:e.date,userPicture:M,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media},s):null}))}))})]})})},A=c(144),D=c.p+"static/media/follow.109e38d3.svg",V="GET_USER",W="GET_USERS",Z="FOLLOW_USER",X="UN_FOLLOW_USER",G="FOLLOW_USER_TYPE_TWO",J="UN_FOLLOW_USER_TYPE_TWO",Y=function(e,t,c,s,n,r,a,o){return function(i){return null!==a&&(a(!0),c.classList.add("disabledButton")),N.a.patch("https://tweeter-clone-back-22.onrender.com/auth/followUser/"+e,{followerId:t}).then((function(e){e.data.error?console.error(e.data.error):c&&s?(c.children[1].textContent="Following",c.children[0].classList.add("none"),s("isFollowingButton"),a(!1),c.classList.remove("disabledButton"),n("Following"),o&&o(!0)):c&&null!==r&&!s&&(r?(c.value="Following",n("Following"),r=!1,a(!1),c.classList.remove("disabledButton"),o(!1)):(c.value="Follow",o(!1),r=!0,n("Follow"),a(!1),c.classList.remove("disabledButton")))})).catch((function(e){console.error(e)})),i({type:G,payload:{_id:e}})}},K=function(e,t,c,s,n,r,a,o){return function(r){return null!==a&&(a(!0),c.classList.add("disabledButton")),N.a.patch("https://tweeter-clone-back-22.onrender.com/auth/unfollowUser/"+e,{followerId:t}).then((function(e){e.data.error?console.error(e.data.error):c&&(void 0!==s&&(s(""),c.children[0].classList.remove("none")),a(!1),c.classList.remove("disabledButton"),c.value="Follow",n("Follow"),o&&o(!0),c.children[0].classList.remove("none"),!0)})).catch((function(e){console.error(e)})),r({type:J,payload:{_id:e,followerId:t}})}},Q=function(e){var t=e.userPicture,c=e.bio,s=e.name,n=e.subs,a=e.userId,o=e.friendSugId,i=e.user,l=e.covImage,u=R.a.randomBytes(4).toString("hex"),j=Object(h.b)(),m=Object(r.useState)(!0),p=Object(d.a)(m,2),b=p[0],f=p[1];return Object(r.useEffect)((function(){if(b){var e=document.getElementById(u).children[1].children[1];n.forEach((function(t){t===a&&(e.classList.add("followingButton"),e.children[1].textContent="Following",e.children[0].classList.add("none"))})),f(!1)}}),[b]),Object(O.jsxs)("div",{className:"friendSuggestion",id:u,children:[Object(O.jsx)("div",{style:{marginBottom:"18px",marginTop:"-12px"},className:"transistor"}),Object(O.jsxs)("div",{className:"thePerson",children:[Object(O.jsx)(z,{posterId:i._id,name:i.name,posterPseudo:s,date:n.length+" followers",userPicture:t}),Object(O.jsxs)("button",{style:{display:"flex",alignItems:"center",justifyContent:"space-evenly"},onClick:function(){f(!0);var e,t,c=document.getElementById(u).children[1].children[1];"followingButton"===c.classList[1]?(c.children[1].textContent="Follow",c.children[0].classList.remove("none"),c.classList.remove("followingButton"),j((e=o,t=a,function(c){return N.a.patch("https://tweeter-clone-back-22.onrender.com/auth/unfollowUser/"+e,{followerId:t}).then((function(e){e.data.error&&console.error(e.data.error)})).catch((function(e){console.error(e)})),c({type:X,payload:{_id:e,followerId:t}})}))):(c.children[1].textContent="Following",c.children[0].classList.add("none"),c.classList.add("followingButton"),j(function(e,t){return function(c){return N.a.patch("https://tweeter-clone-back-22.onrender.com/auth/followUser/"+e,{followerId:t}).then((function(e){e.data.error&&console.error(e.data.error)})).catch((function(e){console.error(e)})),c({type:Z,payload:{_id:e}})}}(o,a)))},id:"followButton",className:"btn",children:[Object(O.jsx)("img",{alt:"follow",src:D}),"   ",Object(O.jsx)("p",{children:"Follow"})]})]}),Object(O.jsxs)("div",{className:"supInformations",children:[Object(O.jsx)("p",{className:"userBIO",children:c}),Object(O.jsx)("div",{className:"covImage",children:null!==l&&void 0!==l?Object(O.jsx)("img",{alt:"coverture",src:l}):Object(O.jsx)("div",{style:{backgroundColor:"#cfd9de",width:"100%",height:"100%"},className:"imageReplacement21332sd"})})]})]})},$=Object(r.memo)(Q),ee=function(e){Object(A.a)(e);Object(h.c)((function(e){return e.actuallyUserReducer.profilePicture}));var t=Object(h.c)((function(e){return e.hashtagsReducer})),c=Object(h.c)((function(e){return e.usersReducer})),s=Object(h.c)((function(e){return e.actuallyUserReducer})),n=s._id,a=Object(r.useState)(Object(l.a)(c)),o=Object(d.a)(a,2),i=o[0];o[1];return t.length=6,i.length=2,Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"TrendsAndFriends",children:[Object(O.jsxs)("div",{className:"trends",children:[Object(O.jsxs)("div",{className:"intro",children:[Object(O.jsx)("p",{children:"Tendances pour vous"}),Object(O.jsx)("div",{className:"transistor"})]}),Object(O.jsx)("div",{className:"hashtags",children:t&&t.sort((function(e,t){return t.numberOfTimes.length-e.numberOfTimes.length})).map((function(e,t){return Object(O.jsxs)("div",{className:"hashtag",children:[Object(O.jsx)("h3",{className:"nameOfHashtag",children:e.nameOfHashtag}),Object(O.jsxs)("p",{className:"numberOfUser griser",children:[e.numberOfTimes.length," tweets"]})]},t)}))})]}),Object(O.jsxs)("div",{className:"whoToFollow",children:[Object(O.jsx)("div",{className:"intro",children:Object(O.jsx)("p",{children:"Qui suivre"})}),Object(O.jsx)("div",{className:"friendSuggestions",children:c.filter((function(e){return e._id!==s._id})).map((function(e,t){if(t<2)return Object(O.jsx)($,{covImage:e.coverPicture,actuallyUser:s._id,user:e,userId:n,friendSugId:e._id,userPicture:e.profilePicture,name:e.pseudo,bio:e.bio,subs:e.followers},t)}))})]})]})})},te=Object(r.memo)(ee),ce=function(){return Object(O.jsx)("div",{id:"headerBottom",children:Object(O.jsxs)("div",{className:"pagesZoneSpe",children:[Object(O.jsx)(u.b,{activeClassName:"specialLinkSelected",exact:!0,to:"/home",children:Object(O.jsx)("svg",{width:20,height:20,viewBox:"0 0 24 24","aria-hidden":"true",class:"r-18jsvk2 r-4qtqp9 r-yyyyoo r-lwhw9o r-dnmrzs r-bnwqim r-1plcrui r-lrvibr",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M22.58 7.35L12.475 1.897c-.297-.16-.654-.16-.95 0L1.425 7.35c-.486.264-.667.87-.405 1.356.18.335.525.525.88.525.16 0 .324-.038.475-.12l.734-.396 1.59 11.25c.216 1.214 1.31 2.062 2.66 2.062h9.282c1.35 0 2.444-.848 2.662-2.088l1.588-11.225.737.398c.485.263 1.092.082 1.354-.404.263-.486.08-1.093-.404-1.355zM12 15.435c-1.795 0-3.25-1.455-3.25-3.25s1.455-3.25 3.25-3.25 3.25 1.455 3.25 3.25-1.455 3.25-3.25 3.25z"})})})}),Object(O.jsx)(u.b,{activeClassName:"specialLinkSelected",to:"/explore/tweets",children:Object(O.jsx)("svg",{width:20,height:20,viewBox:"0 0 24 24","aria-hidden":"true",class:"r-18jsvk2 r-4qtqp9 r-yyyyoo r-lwhw9o r-dnmrzs r-bnwqim r-1plcrui r-lrvibr",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M21 7.337h-3.93l.372-4.272c.036-.412-.27-.775-.682-.812-.417-.03-.776.27-.812.683l-.383 4.4h-6.32l.37-4.27c.037-.413-.27-.776-.68-.813-.42-.03-.777.27-.813.683l-.382 4.4H3.782c-.414 0-.75.337-.75.75s.336.75.75.75H7.61l-.55 6.327H3c-.414 0-.75.336-.75.75s.336.75.75.75h3.93l-.372 4.272c-.036.412.27.775.682.812l.066.003c.385 0 .712-.295.746-.686l.383-4.4h6.32l-.37 4.27c-.036.413.27.776.682.813l.066.003c.385 0 .712-.295.746-.686l.382-4.4h3.957c.413 0 .75-.337.75-.75s-.337-.75-.75-.75H16.39l.55-6.327H21c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-6.115 7.826h-6.32l.55-6.326h6.32l-.55 6.326z"})})})}),Object(O.jsx)(u.b,{activeClassName:"specialLinkSelected",to:"/i/bookmarks",children:Object(O.jsx)("svg",{width:20,height:20,viewBox:"0 0 24 24","aria-hidden":"true",class:"r-18jsvk2 r-4qtqp9 r-yyyyoo r-lwhw9o r-dnmrzs r-bnwqim r-1plcrui r-lrvibr",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M19.9 23.5c-.2 0-.3 0-.4-.1L12 17.9l-7.5 5.4c-.2.2-.5.2-.8.1-.2-.1-.4-.4-.4-.7V5.6c0-1.2 1-2.2 2.2-2.2h12.8c1.2 0 2.2 1 2.2 2.2v17.1c0 .3-.2.5-.4.7 0 .1-.1.1-.2.1z"})})})})]})})},se=function(e){for(var t,c=e.actuallyUser,s=e.tweets,n=e.sortedUsers,r=e.actuallyHashtags,a=e.setVerySpecialPounce,o=document.cookie.split(";"),i=0;i<o.length;i++)try{var l=Object(m.a)(o[i]);l&&(t=l.id)}catch(d){console.error("this cookie are not valide")}return Object(O.jsx)(O.Fragment,{children:t?Object(O.jsx)("div",{className:"HomePage",children:Object(O.jsxs)("div",{className:"principaleContainer",children:[Object(O.jsx)(f,{}),Object(O.jsxs)("div",{className:"content",children:[Object(O.jsx)(U,{setVerySpecialPounce:a,user:c,tweets:s}),Object(O.jsx)(te,{userId:c._id,users:n,hashtags:r,userPicture:c.profilePicture})]}),Object(O.jsx)(ce,{})]})}):window.location.replace("/login")})},ne=Object(r.memo)(se),re=function(e){var t=e.user;return Object(O.jsx)(u.b,{to:"/user/"+t.pseudo,className:"trendsForUser",children:Object(O.jsx)("div",{className:"userBlocOfTrends btn",children:Object(O.jsxs)("div",{className:"containerOfUserBlocOfTrends",children:[Object(O.jsx)("p",{className:"griser",children:"Trending"}),Object(O.jsx)("div",{className:"nameOfTrend",children:Object(O.jsx)("p",{className:"bolder",children:t.pseudo})}),Object(O.jsx)("div",{className:"subNumbers",children:Object(O.jsxs)("p",{className:"griser",children:[t.followers.length," followers"]})})]})})})},ae=function(){for(var e,t=Object(h.c)((function(e){return e.actuallyUserReducer})),c=Object(h.c)((function(e){return e.tweetsReducer})),s=Object(h.c)((function(e){return e.usersReducer})),n=document.cookie.split(";"),a=0;a<n.length;a++)try{var o=Object(m.a)(n[a]);o&&(e=o.id)}catch(G){console.error("this cookie are not valide")}var i=Object(r.useState)(!0),j=Object(d.a)(i,2),p=j[0],b=j[1],x=Object(h.c)((function(e){return e.actuallyUserReducer}));s.length=5;var v=Object(r.useState)(""),w=Object(d.a)(v,2),N=w[0],y=w[1],k=window.location.href.split("/"),I=k[k.length-1],S=Object(r.useState)([]),P=Object(d.a)(S,2),C=P[0],B=P[1],_=Object(r.useState)(!1),E=Object(d.a)(_,2),T=E[0],L=E[1];Object(r.useEffect)((function(){p&&("tweets"===k[k.length-2]&&"explore"===k[k.length-3]?"lastest"===I?y("lastest"):"people"===I?y("people"):"media"===I?y("media"):(console.error("aucune des proposition malheureusement"),L(!0)):"tweets"===I&&"explore"===k[k.length-2]&&y("top"),b(!1))}),[p,N,T]);var F=Object(r.useState)(!0),z=Object(d.a)(F,2),M=z[0],R=z[1],q=Object(r.useState)(!0),U=Object(d.a)(q,2),A=U[0],D=U[1];Object(r.useEffect)((function(){document.getElementById("searchInput213ds45")&&""===document.getElementById("searchInput213ds45").value?document.querySelector("#root > div > div > div.bottomPartOfExplorePage > div.containerOfBtmPart > div.rightPartOfBtmPrtOfContainer > div.searchTweetBloc > div > div.submitInputManagement > div > a > button").disabled=!0:document.querySelector("#root > div > div > div.bottomPartOfExplorePage > div.containerOfBtmPart > div.rightPartOfBtmPrtOfContainer > div.searchTweetBloc > div > div.submitInputManagement > div > a > button").disabled=!1}),[A]);var V=Object(r.useState)(2),W=Object(d.a)(V,2),Z=W[0],X=W[1];return window.addEventListener("scroll",(function(e){var t=e.target.scrollingElement;t.scrollHeight-t.scrollTop===t.clientHeight&&Z<c.length&&X((function(e){return e+3}))})),Object(O.jsx)(O.Fragment,{children:e?Object(O.jsx)(O.Fragment,{children:T?Object(O.jsx)("h1",{children:"Erreur 404: Page introuvable"}):Object(O.jsxs)("div",{className:"HomePage",children:[Object(O.jsx)("div",{className:"head",children:Object(O.jsx)(f,{})}),Object(O.jsxs)("div",{className:"bottomPartOfExplorePage",children:[Object(O.jsxs)("div",{className:"containerOfBtmPart",children:[Object(O.jsx)("div",{className:"seeTweetsOfWorld",children:Object(O.jsx)("div",{className:"tweetChoicer25",children:Object(O.jsxs)("div",{className:"tweetChoicerBloc25",children:[Object(O.jsx)("div",{className:"TweetsChoice",children:Object(O.jsx)(u.b,{onClick:function(){b(!0),X(2)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/explore/tweets",children:"Top"})}),Object(O.jsx)("div",{className:"TweetsAndRepliesChoice",children:Object(O.jsx)(u.b,{onClick:function(){b(!0),X(2)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/explore/tweets/lastest",children:"Lastest"})}),Object(O.jsx)("div",{className:"mediaChoice",children:Object(O.jsx)(u.b,{onClick:function(){b(!0),X(2)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/explore/tweets/people",children:"People"})}),Object(O.jsx)("div",{className:"likesChoice",children:Object(O.jsx)(u.b,{onClick:function(){b(!0),X(2)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/explore/tweets/media",children:"Media"})})]})})}),Object(O.jsxs)("div",{style:{width:"100%"},className:"rightPartOfBtmPrtOfContainer",children:[Object(O.jsx)("div",{className:"searchTweetBloc",children:Object(O.jsxs)("div",{className:"containerOfSearchTwtBlc",children:[Object(O.jsx)("div",{className:"searchInputManagement",children:Object(O.jsxs)("div",{className:"RLsearchInput",children:[Object(O.jsx)("svg",{className:"loupeImage none"}),Object(O.jsx)("input",{onChange:function(){return D(!A)},minLength:1,id:"searchInput213ds45",type:"text",placeholder:"Seach",className:"_searchInput"})]})}),Object(O.jsx)("div",{className:"submitInputManagement",children:Object(O.jsx)("div",{className:"RLsubmitButton",children:Object(O.jsx)(u.b,{exact:!0,to:"/explore/tweets/searching",children:Object(O.jsx)("button",{onClick:function(){R(!M),D(!A);var e=document.getElementById("searchInput213ds45");if(""!==e.value){var t=e.value.split("  ").join(" ");B([]),b(!1),y("searching");var s=t.split(" ");c.forEach((function(e){var t=0,c=e.text.split(" "),n=[],r="";c.forEach((function(e,t){s.forEach((function(c,r){if(e.split(" ").join("").toUpperCase()===c.split(" ").join("").toUpperCase()){var a=!0;n.forEach((function(e,r){e.split(" ").join("")==="<span>".concat(c,"</span>")?a=!1:e.split(" ").join("")===c.split(" ").join("")?(r===t&&s.length,console.log("on supprime une tkt mem pas"),n.splice(r,r),a=!0):a=!0})),a&&n.push("<span>".concat(c,"</span> "))}else{var o=!0;n.forEach((function(c,s){c.split(" ").join("")!==e.split(" ").join("")&&c.split(" ").join("")!=="<span>".concat(e,"</span>")||t===s&&(o=!1)})),o&&n.push(e+" ")}}))})),n.forEach((function(e){r+=e})),c.forEach((function(c){s.forEach((function(n,a){if(c===n&&(t+=1,a+1===s.length&&t===s.length)){var o=Object(g.a)(Object(g.a)({},e),{},{text:"".concat(r)});B((function(e){return[].concat(Object(l.a)(e),[o])}))}}))}))})),e.value=""}},className:"_submitButton btn",children:"Search"})})})})]})}),Object(O.jsx)("div",{className:"sortedTweets",children:c.length>0&&s.length>0?Object(O.jsxs)(O.Fragment,{children:["top"===N&&c.sort((function(e,t){return t.retweets.length-e.retweets.length})).map((function(e,c){return e.everyOneCanReply||e.posterId===x._id?c<=Z?Object(O.jsx)(H,{index:c,posterId:e.posterId,theTweet:e,specialPounce:M,posterPseudo:e.posterPseudo,style:{marginBottom:"35.25px"},posterName:e.posterName,userPicture:e.posterPicture,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media,userId:t._id,tweetId:e._id,likes:e.likes,date:e.date,user:t}):void 0:e.userFollowings.map((function(s,n){return s+""!==x._id+""?null:c<=Z?Object(O.jsx)(H,{index:c,posterId:e.posterId,theTweet:e,specialPounce:M,posterPseudo:e.posterPseudo,style:{marginBottom:"35.25px"},posterName:e.posterName,userPicture:e.posterPicture,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media,userId:t._id,tweetId:e._id,likes:e.likes,date:e.date,user:t}):void 0}))})),"lastest"===N&&c.sort((function(e,t){return t.date-e.date})).map((function(e,c){return e.everyOneCanReply||e.posterId===x._id?c<=Z?Object(O.jsx)(H,{index:c,posterId:e.posterId,theTweet:e,specialPounce:M,posterPseudo:e.posterPseudo,style:{marginBottom:"35.25px"},posterName:e.posterName,userPicture:e.posterPicture,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media,userId:t._id,tweetId:e._id,likes:e.likes,date:e.date,user:t}):void 0:e.userFollowings.map((function(s,n){return s+""!==x._id+""?null:c<=Z?Object(O.jsx)(H,{index:c,posterId:e.posterId,theTweet:e,specialPounce:M,posterPseudo:e.posterPseudo,style:{marginBottom:"35.25px"},posterName:e.posterName,userPicture:e.posterPicture,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media,userId:t._id,tweetId:e._id,likes:e.likes,date:e.date,user:t}):void 0}))})),"people"===N&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h1",{className:"trendsForUser",children:"Trends for you"}),Object(O.jsx)("div",{style:{borderTop:"1px solid #dee8ea",borderLeft:"1px solid #dee8ea",borderRight:" 1px solid #dee8ea"},className:"parentOfTrends",children:s.sort((function(e,t){return t.followers.length-e.followers.length})).map((function(e,t){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(re,{user:e})})}))})]}),"media"===N&&c.filter((function(e){return void 0!==e.media})).map((function(e,c){return e.everyOneCanReply||e.posterId===x._id?c<=Z?Object(O.jsx)(H,{index:c,posterId:e.posterId,theTweet:e,specialPounce:M,indexTwo:c,posterPseudo:e.posterPseudo,style:{marginBottom:"35.25px"},posterName:e.posterName,userPicture:e.posterPicture,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media,userId:t._id,tweetId:e._id,likes:e.likes,date:e.date,user:t}):void 0:e.userFollowings.map((function(s,n){return s+""!==x._id+""?null:c<=Z?Object(O.jsx)(H,{index:c,posterId:e.posterId,theTweet:e,specialPounce:M,indexTwo:c,posterPseudo:e.posterPseudo,style:{marginBottom:"35.25px"},posterName:e.posterName,userPicture:e.posterPicture,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media,userId:t._id,tweetId:e._id,likes:e.likes,date:e.date,user:t}):void 0}))})),"searching"===N&&C.filter((function(e,t){return C.indexOf(e)==t})).sort((function(e,t){return t.date-e.date})).map((function(e,c){return e.everyOneCanReply||e.posterId===x._id?c<=Z?Object(O.jsx)(H,{index:c,posterId:e.posterId,theTweet:e,specialPounce:M,indexTwo:c,posterPseudo:e.posterPseudo,style:{marginBottom:"35.25px"},posterName:e.posterName,userPicture:e.posterPicture,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media,userId:t._id,tweetId:e._id,likes:e.likes,date:e.date,user:t}):void 0:e.userFollowings.map((function(s,n){return s+""!==x._id+""?null:c<=Z?Object(O.jsx)(H,{index:c,posterId:e.posterId,theTweet:e,specialPounce:M,indexTwo:c,posterPseudo:e.posterPseudo,style:{marginBottom:"35.25px"},posterName:e.posterName,userPicture:e.posterPicture,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media,userId:t._id,tweetId:e._id,likes:e.likes,date:e.date,user:t}):void 0}))}))]}):Object(O.jsx)("div",{className:"twitter-loader"})})]})]}),Object(O.jsx)(ce,{})]})]})}):window.location.replace("/login")})},oe=function(){for(var e,t=window.location.href.split("/"),c=t[t.length-1],s=document.cookie.split(";"),n=0;n<s.length;n++)try{var a=Object(m.a)(s[n]);a&&(e=a.id)}catch(E){console.error("this cookie are not valide")}var o=Object(r.useState)(!1),i=Object(d.a)(o,2),j=i[0],p=i[1],b=Object(r.useState)([]),x=Object(d.a)(b,2),v=x[0],g=x[1],w=Object(r.useState)(!0),N=Object(d.a)(w,2),y=N[0],k=N[1],I=Object(h.c)((function(e){return e.actuallyUserReducer})),S=Object(h.c)((function(e){return e.tweetsReducer}));Object(r.useEffect)((function(){y&&(I.saves?(p(!0),k(!1)):(k(!1),setTimeout((function(){k(!0)}),500))),j&&(g([]),"bookmarks"===t[t.length-2]&&I.saves?"with_replies"===c?I.saves.forEach((function(e){S.forEach((function(t){(t._id===e&&t.comments.length>0||t.date+""===e+""&&t.comments.length>0)&&g((function(e){return[].concat(Object(l.a)(e),[t])}))}))})):"media"===c?I.saves.forEach((function(e){S.forEach((function(t){(t._id===e&&void 0!==t.media||t.date+""===e+""&&void 0!==t.media)&&g((function(e){return[].concat(Object(l.a)(e),[t])}))}))})):"likes"===c&&I.saves.forEach((function(e){S.forEach((function(t){t._id!==e&&t.date+""!==e+""||I.likes.forEach((function(e){e!==t._id&&e+""!==t.date+""||g((function(e){return[].concat(Object(l.a)(e),[t])}))}))}))})):"bookmarks"===t[t.length-1]&&"i"===t[t.length-2]&&I.saves.forEach((function(e){S.forEach((function(t){t._id!==e&&t.date+""!==e+""||g((function(e){return[].concat(Object(l.a)(e),[t])}))}))})),p(!1))}),[j,v,y]);var P=Object(r.useState)(2),C=Object(d.a)(P,2),B=C[0],_=C[1];return window.addEventListener("scroll",(function(e){var t=e.target.scrollingElement;t.scrollHeight-t.scrollTop===t.clientHeight&&B<v.length&&_((function(e){return e+2}))})),Object(O.jsx)(O.Fragment,{children:e?Object(O.jsxs)("div",{className:"HomePage",children:[Object(O.jsx)("div",{className:"head",children:Object(O.jsx)(f,{})}),Object(O.jsxs)("div",{className:"principaleBookmarksCotainer",children:[Object(O.jsxs)("div",{className:"containerOfPrncplContainer",children:[Object(O.jsx)("div",{className:"seeTweetsOfWorld",children:Object(O.jsx)("div",{className:"tweetChoicer25",children:Object(O.jsxs)("div",{className:"tweetChoicerBloc25",children:[Object(O.jsx)("div",{className:"TweetsChoice",children:Object(O.jsx)(u.b,{onClick:function(){p(!0),_(2)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/i/bookmarks",children:"Tweets"})}),Object(O.jsx)("div",{className:"TweetsAndRepliesChoice",children:Object(O.jsx)(u.b,{onClick:function(){p(!0),_(2)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/i/bookmarks/with_replies",children:"Tweets & replies"})}),Object(O.jsx)("div",{className:"mediaChoice",children:Object(O.jsx)(u.b,{onClick:function(){p(!0),_(2)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/i/bookmarks/media",children:"Media"})}),Object(O.jsx)("div",{className:"likesChoice",children:Object(O.jsx)(u.b,{onClick:function(){p(!0),_(2)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/i/bookmarks/likes",children:"Likes"})})]})})}),Object(O.jsx)("div",{className:"bookmarksTweetsZone",children:v.length>0?v.filter((function(e,t){return v.indexOf(e)==t})).map((function(e,t){return Object(O.jsx)(O.Fragment,{children:t<=B&&Object(O.jsx)(H,{index:t,posterId:e.posterId,theTweet:e,posterPseudo:e.posterPseudo,style:{marginBottom:"35.25px"},posterName:e.posterName,userPicture:e.posterPicture,comments:e.comments,saves:e.saves,retweets:e.retweets,message:e.text,media:e.media,userId:I._id,tweetId:e._id,likes:e.likes,date:e.date,user:I,setJustOnePonce:p})})})):Object(O.jsx)("div",{class:"twitter-loader"})})]}),Object(O.jsx)(ce,{})]})]}):window.location.replace("/login")})},ie=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("h1",{children:"404 Not found !"})})},le=function(){for(var e=document.cookie.split(";"),t=null,c=0;c<e.length;c++)try{var s=Object(m.a)(e[c]);s&&(t=s.id)}catch(x){}var n=function(e){for(var t=document.getElementsByClassName("contentInputs"),c=0;c<t.length;c++)t[c].classList.remove("contentInputsOnFocus"),""!==t[c].children[1].value?t[c].children[0].classList.replace("labelSelected","labelSelectedNotBlue"):(t[c].children[0].classList.remove("labelSelected"),t[c].children[0].classList.remove("labelSelectedNotBlue"),t[c].children[1].classList.replace("zc223dsFcc","zc223dsDsq"));e.target.parentElement.classList.add("contentInputsOnFocus"),e.target.parentElement.children[0].classList.add("labelSelected"),e.target.parentElement.children[1].classList.replace("zc223dsDsq","zc223dsFcc")},a=function(e){if("contentInputsOnFocus"!==e.target.parentElement.classList[e.target.parentElement.classList.length-1])for(var t=document.getElementsByClassName("contentInputs"),c=0;c<t.length;c++)t[c].classList.remove("contentInputsOnFocus"),""!==t[c].children[1].value?t[c].children[0].classList.replace("labelSelected","labelSelectedNotBlue"):(t[c].children[0].classList.remove("labelSelected"),t[c].children[0].classList.remove("labelSelectedNotBlue"),t[c].children[1].classList.replace("zc223dsFcc","zc223dsDsq"))},o=Object(r.useState)([]),i=Object(d.a)(o,2),l=i[0],j=i[1],h=Object(r.useState)(!0),p=Object(d.a)(h,2),b=p[0],f=p[1];return Object(r.useEffect)((function(){if(b){var e=document.getElementsByClassName("input");if(""!==e[0].value&&""!==e[1].value)for(var t=document.getElementsByClassName("contentInputs"),c=0;c<t.length;c++)t[c].children[0].classList.add("labelSelectedNotBlue"),t[c].children[1].classList.replace("zc223dsDsq","zc223dsFcc");j([e[0].value,e[1].value]),f(!1)}}),[l,b]),Object(O.jsx)(O.Fragment,{children:t?window.location.replace("/"):Object(O.jsx)("div",{className:"container",onClick:a,children:Object(O.jsxs)("div",{className:"signin",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("svg",{fill:"#1da1f2",width:"40",heigth:"40",viewBox:"0 0 24 24","aria-hidden":"true",className:"twitterIcon",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"})})}),Object(O.jsx)("h1",{children:"Se connecter \xe0 Tweetter"})]}),Object(O.jsx)("div",{className:"errorBloc none",children:Object(O.jsx)("p",{className:"error"})}),Object(O.jsx)("div",{className:"content",children:Object(O.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),"disabledBtn"!==e.target[2].classList[1]){var t={pseudoOrEmail:e.target[0].value,password:e.target[1].value};N.a.post("https://tweeter-clone-back-22.onrender.com/auth/login",t).then((function(e){if(e.data.error){console.error(e.data.error);var t=document.querySelector(".errorBloc");t.classList.remove("none"),t.children[0].textContent=e.data.error}else{document.querySelector(".errorBloc").classList.add("none");var c=new Date(Date.now()+2592e5);document.cookie="user=".concat(e.data.cookie,"; path=/; expires=")+c,window.location.reload()}})).catch((function(e){console.error(e)}))}},children:[Object(O.jsxs)("div",{className:"emailOrUserNameInput contentInputs",children:[Object(O.jsx)("label",{children:"email ou nom d'utilisateur"}),Object(O.jsx)("input",{onChange:function(){return f(!0)},name:"pseudoOrEmail",onClick:n,className:"zc223dsDsq input",type:"text"})]}),Object(O.jsxs)("div",{className:"passwordInput contentInputs",children:[Object(O.jsx)("label",{children:"Mot de passe"}),Object(O.jsx)("input",{onChange:function(){f(!0)},name:"password",onClick:n,className:"zc223dsDsq input",type:"password"})]}),Object(O.jsxs)("div",{className:"submitZone",children:[""!==l[0]&&""!==l[1]&&l[0]&&l[1]?null:Object(O.jsx)("input",{className:"btn disabledBtn",type:"submit",value:"Se connecter"}),""!==l[0]&&""!==l[1]&&l[0]&&l[1]?Object(O.jsx)("input",{className:"btn",type:"submit",value:"Se connecter"}):null]})]})}),Object(O.jsxs)("div",{className:"footer",onClick:a,children:[Object(O.jsx)(u.b,{to:"/login",className:"navAuth",children:"Mot de passe oubli\xe9 ?"}),Object(O.jsx)("p",{children:"."}),Object(O.jsx)(u.b,{to:"/signup",className:"navAuth",children:"S'inscrire sur tweeter"})]})]})})})},de=function(){for(var e=document.cookie.split(";"),t=null,c=0;c<e.length;c++)try{var s=Object(m.a)(e[c]);s&&(t=s.id)}catch(x){}var n=function(e){for(var t=document.getElementsByClassName("contentInputs"),c=0;c<t.length;c++)t[c].classList.remove("contentInputsOnFocus"),""!==t[c].children[1].value?t[c].children[0].classList.replace("labelSelected","labelSelectedNotBlue"):(t[c].children[0].classList.remove("labelSelected"),t[c].children[0].classList.remove("labelSelectedNotBlue"),t[c].children[1].classList.replace("zc223dsFcc","zc223dsDsq"));e.target.parentElement.classList.add("contentInputsOnFocus"),e.target.parentElement.children[0].classList.add("labelSelected"),e.target.parentElement.children[1].classList.replace("zc223dsDsq","zc223dsFcc")},a=function(e){if("contentInputsOnFocus"!==e.target.parentElement.classList[e.target.parentElement.classList.length-1])for(var t=document.getElementsByClassName("contentInputs"),c=0;c<t.length;c++)t[c].classList.remove("contentInputsOnFocus"),""!==t[c].children[1].value?t[c].children[0].classList.replace("labelSelected","labelSelectedNotBlue"):(t[c].children[0].classList.remove("labelSelected"),t[c].children[0].classList.remove("labelSelectedNotBlue"),t[c].children[1].classList.replace("zc223dsFcc","zc223dsDsq"))},o=Object(r.useState)([]),i=Object(d.a)(o,2),l=i[0],j=i[1],h=Object(r.useState)(!0),p=Object(d.a)(h,2),b=p[0],f=p[1];return Object(r.useEffect)((function(){if(b){for(var e=document.getElementsByClassName("input"),t=document.getElementsByClassName("contentInputs"),c=0;c<t.length;c++)t[c].children[0].classList.add("labelSelectedNotBlue"),t[c].children[1].classList.replace("zc223dsDsq","zc223dsFcc");j([e[0].value,e[1].value]),f(!1)}}),[l,b]),Object(O.jsx)(O.Fragment,{children:t?window.location.replace("/"):Object(O.jsx)("div",{className:"container",onClick:a,children:Object(O.jsxs)("div",{className:"signup",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("svg",{fill:"#1da1f2",width:"40",heigth:"40",viewBox:"0 0 24 24","aria-hidden":"true",className:"twitterIcon",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"})})}),Object(O.jsx)("h1",{children:"S'inscrire sur tweeter"})]}),Object(O.jsx)("div",{className:"errorBloc none",children:Object(O.jsx)("p",{className:"error"})}),Object(O.jsx)("div",{className:"content",children:Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={pseudo:e.target[0].value,email:e.target[1].value,password:e.target[2].value};N.a.post("https://tweeter-clone-back-22.onrender.com/auth/createUser",t).then((function(e){if(e.data)if(e.data.error){console.error(e.data.error);var t=document.querySelector(".errorBloc");t.classList.remove("none"),t.children[0].textContent=e.data.error}else{document.querySelector(".errorBloc").classList.add("none"),window.location.replace("/login")}})).catch((function(e){console.error(e)}))},children:[Object(O.jsxs)("div",{className:"userName contentInputs",children:[Object(O.jsx)("label",{children:"Nom d'utilisateur"}),Object(O.jsx)("input",{onChange:function(){return f(!0)},onClick:n,className:"zc223dsDsq input",type:"text"})]}),Object(O.jsxs)("div",{className:"email contentInputs",children:[Object(O.jsx)("label",{children:"Votre email"}),Object(O.jsx)("input",{onChange:function(){return f(!0)},onClick:n,className:"zc223dsDsq input",type:"email"})]}),Object(O.jsxs)("div",{className:"passwordInput contentInputs",children:[Object(O.jsx)("label",{children:"Mot de passe"}),Object(O.jsx)("input",{autoComplete:!1,onClick:n,className:"zc223dsDsq",type:"password"})]}),Object(O.jsxs)("div",{className:"submitZone",children:[""!==l[0]&&""!==l[1]&&l[0]&&l[1]?null:Object(O.jsx)("input",{className:"btn disabledBtn",type:"submit",value:"S'inscrire sur twitter"}),""!==l[0]&&""!==l[1]&&l[0]&&l[1]?Object(O.jsx)("input",{className:"btn",type:"submit",value:"S'inscrire sur twitter"}):null]})]})}),Object(O.jsx)("div",{className:"footer",onClick:a,children:Object(O.jsx)(u.b,{style:{marginTop:"25px"},to:"/login",className:"navAuth",children:"Se connecter a Tweetter"})})]})})})},ue=c(26),je=c.n(ue),me=c(47),he=function(e){var t=e.index,c=e.flw,s=e.actuallyUser,n=Object(r.useState)(!0),a=Object(d.a)(n,2),o=a[0],i=a[1],l=Object(r.useState)("Follow"),u=Object(d.a)(l,2),j=u[0],m=u[1],p=Object(r.useState)(null),b=Object(d.a)(p,2),f=b[0],x=b[1],v=Object(r.useState)(!1),g=Object(d.a)(v,2),w=g[0],N=g[1],y=Object(h.c)((function(e){return e.usersReducer})),k=Object(h.b)();Object(r.useEffect)((function(){s._id===c._id?(m("Follow"),N(!0),x(s)):(c.followers.forEach((function(e){e===s._id&&(m("Following"),i(!1))})),y.forEach((function(e,t){e._id===c._id&&x(y[t])}))),console.log(f)}),[o,j]);return Object(O.jsx)(O.Fragment,{children:f?Object(O.jsxs)("div",{className:"onePerson",children:[Object(O.jsx)("div",{className:"transistor"}),Object(O.jsxs)("div",{className:"top",children:[Object(O.jsx)(z,{posterId:f._id,posterPseudo:f.pseudo,name:f.pseudo,date:f.followers.length+" Followers",userPicture:f.profilePicture}),Object(O.jsx)("button",{disabled:w,onClick:function(e){return t=f,c=e.target,void k(o?Y(t._id,s._id,c,void 0,m,!0,N,i):K(t._id,s._id,c,void 0,m,0,N,i));var t,c},className:"btn followBTN ".concat(w?"disabledButton":""),children:j})]}),Object(O.jsx)("p",{className:"biography griser",children:f.bio})]},t):Object(O.jsx)("p",{children:"Bpnjour"})})},pe=function(e){var t=e.exitFunc,c=e.isFollowingType,s=(e.userName,e.user),n=Object(h.c)((function(e){return e.usersReducer})),a=window.location.href.split("/"),o="likes"===a[a.length-1]||"media"===a[a.length-1]||"with_replies"===a[a.length-1]?a[a.length-2]:a[a.length-1],i=c?o+" is following":o+" is followed",u=Object(r.useState)([]),j=Object(d.a)(u,2),m=j[0],p=j[1],b=Object(r.useState)([]),f=Object(d.a)(b,2),x=f[0],v=f[1],g=Object(r.useState)(!0),w=Object(d.a)(g,2),N=w[0],y=w[1],k=Object(h.c)((function(e){return e.actuallyUserReducer}));return Object(r.useEffect)((function(){N&&n.length>0&&(n.forEach((function(e){s.followers.forEach((function(t){t===e._id&&p((function(t){return[e].concat(Object(l.a)(t))}))})),s.followings.forEach((function(t){t===e._id&&v((function(t){return[e].concat(Object(l.a)(t))}))}))})),y(!1))}),[N]),Object(O.jsx)("div",{className:"SeeFollowInfoContainer",children:Object(O.jsxs)("div",{className:"SeeFollowInfo",children:[Object(O.jsxs)("div",{className:"head",children:[Object(O.jsx)("p",{children:i.split("%20").join(" ")}),Object(O.jsx)("svg",{className:"btn",onClick:t,width:"13.18",height:"13.18",version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512.001 512.001",xmlSpace:"preserve",children:Object(O.jsx)("g",{children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.717\r L34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.475,0,28.285l221.857,221.857L5.858,477.859\r c-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287\r l221.857,221.857c3.905,3.905,9.024,5.857,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.811,7.811-20.475,0-28.285\r L284.286,256.002z"})})})})]}),Object(O.jsx)("div",{className:"people",children:c?s&&x.map((function(e,t){return Object(O.jsx)(he,{index:t,flw:e,actuallyUser:k})})):s&&m.map((function(e,t){return Object(O.jsx)(he,{index:t,flw:e,actuallyUser:k})}))})]})})},be=function(){var e=Object(h.c)((function(e){return e.actuallyUserReducer})),t=window.location.href.split("/"),c="likes"===t[t.length-1]||"media"===t[t.length-1]||"with_replies"===t[t.length-1]?t[t.length-2]:t[t.length-1],s=Object(h.b)(),n=Object(r.useState)("Follow"),a=Object(d.a)(n,2),o=a[0],i=a[1],j=Object(r.useState)({}),p=Object(d.a)(j,2),b=p[0],x=p[1],v=Object(r.useState)(!1),g=Object(d.a)(v,2),w=g[0],y=g[1],k=Object(r.useState)(!0),I=Object(d.a)(k,2),S=I[0],P=I[1],C=Object(r.useState)(!0),B=Object(d.a)(C,2),_=B[0],E=B[1],T=Object(r.useState)(!1),L=Object(d.a)(T,2),F=L[0],z=L[1],M=Object(r.useState)(!1),R=Object(d.a)(M,2),q=R[0],U=R[1],A=Object(r.useState)([]),V=Object(d.a)(A,2),W=V[0],Z=(V[1],Object(r.useState)([])),X=Object(d.a)(Z,2),G=X[0],J=(X[1],Object(r.useState)("")),Q=Object(d.a)(J,2),$=Q[0],ee=Q[1],te=Object(r.useState)(!1),se=Object(d.a)(te,2),ne=se[0],re=se[1],ae=Object(r.useState)([]),oe=Object(d.a)(ae,2),ie=oe[0],le=oe[1],de=Object(r.useState)(!0),ue=Object(d.a)(de,2),he=ue[0],be=ue[1],Oe=Object(r.useState)({}),fe=Object(d.a)(Oe,2),xe=fe[0],ve=fe[1],ge=Object(r.useState)(!0),we=Object(d.a)(ge,2),Ne=we[0],ye=we[1];window.onload=function(){be(!0),P(!0),ye(!Ne)};var ke=Object(h.c)((function(e){return e.tweetsReducer}));Object(r.useEffect)(Object(me.a)(je.a.mark((function s(){var n,r;return je.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!he){s.next=4;break}return s.next=3,N.a.get("https://tweeter-clone-back-22.onrender.com/auth/getuserwithname/"+t[4]).then((function(e){e.data?e.data.error?console.error(e.data.error):ve(e.data):console.error("data introuvable")})).catch((function(e){return console.error(e),null}));case 3:null!==xe&&xe.replies?(le([]),"with_replies"===t[t.length-1]?xe.replies.forEach((function(e){ke.forEach((function(t){t._id===e&&le((function(e){return[].concat(Object(l.a)(e),[t])}))}))})):"media"===t[t.length-1]?Object(l.a)(xe.tweets).forEach((function(e){ke.forEach((function(t){t._id===e&&void 0!==t.media&&le((function(e){return[].concat(Object(l.a)(e),[t])}))}))})):t[t.length-1]+""==="likes"?xe.likes.forEach((function(e){ke.forEach((function(t){t._id!==e&&t.date+""!==e+""||le((function(e){return[].concat(Object(l.a)(e),[t])}))}))})):(n=[],ke.forEach((function(e){console.log("aaaaah ca verify ca verify tkt mm pas"),e.retweets.forEach((function(t){t!==xe._id&&t+""!==xe.date+""||n.push(e)})),e.posterId===xe._id&&n.push(e)})),r=Object(l.a)(new Set(n)),le(r)),be(!1)):console.error("le user est null");case 4:if(!S){s.next=8;break}return s.next=7,N.a.get("https://tweeter-clone-back-22.onrender.com/auth/getuserwithname/"+c).then(function(){var t=Object(me.a)(je.a.mark((function t(c){return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c.data?(x({coverPicture:c.data.coverPicture,userPicture:c.data.profilePicture,userName:c.data.pseudo,followersMember:c.data.followers.length,followingsMember:c.data.followings.length,bioText:c.data.bio,_id:c.data._id,followers:c.data.followers,followings:c.data.followings,tweets:c.data.tweets,replies:c.data.replies,retweets:c.data.retweets,name:c.data.name}),c.data.pseudo===e.pseudo?E(!0):E(!1),c.data.followers.forEach((function(t){t===e._id?(ee("isFollowingButton"),i("Following"),U(!0)):(ee(""),i("Follow"),U(!1))})),y(!0)):(console.error("l'utilisteur n'existe pas"),y(!1));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e)}));case 7:P(!1);case 8:case"end":return s.stop()}}),s)}))),[b,xe,S,w,_,G,W,$,he,Ne]);for(var Ie,Se=document.cookie.split(";"),Pe=0;Pe<Se.length;Pe++)try{var Ce=Object(m.a)(Se[Pe]);Ce&&(Ie=Ce.id)}catch(Te){console.error("this cookie are not valide")}var Be=Object(r.useState)(!0),_e=Object(d.a)(Be,2),Ee=(_e[0],_e[1],function(e){z(!F),U(e)});return Object(O.jsx)(O.Fragment,{children:Ie?Object(O.jsxs)(O.Fragment,{children:[F&&Object(O.jsx)(pe,{user:b,exitFunc:Ee,userName:"yanis kerrouche",isFollowingType:q}),Object(O.jsx)(f,{}),w?Object(O.jsxs)("div",{className:"userProfile",children:[Object(O.jsx)("div",{className:"topPart",children:null===b.coverPicture?Object(O.jsx)("div",{className:"coverPicture undefinedPhoto"}):Object(O.jsx)("div",{style:{overflow:"hidden"},className:"coverPicture",children:Object(O.jsx)("img",{style:{width:"100%",height:"300%"},src:b.coverPicture,alt:"coverPicture"})})}),Object(O.jsxs)("div",{className:"bottomPart",children:[Object(O.jsxs)("div",{className:"userBlocInformations",children:[Object(O.jsx)("div",{className:"pictureZone2ae",children:Object(O.jsx)("img",{className:"userPicture",src:b.userPicture,alt:"user"})}),Object(O.jsxs)("div",{className:"textInformationsZone",children:[Object(O.jsxs)("div",{className:"nameAndFollowInformations",children:[Object(O.jsxs)("div",{className:"nameInfo",children:[Object(O.jsx)("h3",{style:{marginBottom:"0"},className:"userName bold",children:b.name}),Object(O.jsxs)("p",{style:{margin:"0",fontSize:"0.8em",marginBottom:"3px"},className:"completePseudo griser",children:["@",b.userName]})]}),Object(O.jsxs)("div",{className:"followInfo",children:[Object(O.jsxs)("p",{onClick:function(){return Ee(!1)},className:"linkName",children:[Object(O.jsx)("span",{className:"bold",children:b.followersMember}),Object(O.jsx)("span",{className:"griser",children:"Followers"})]}),Object(O.jsxs)("p",{onClick:function(){return Ee(!0)},className:"linkName",children:[Object(O.jsx)("span",{className:"bold",children:b.followingsMember}),Object(O.jsx)("span",{className:"griser",children:"Followings"})]})]})]}),Object(O.jsx)("div",{className:"bioText",children:Object(O.jsx)("p",{className:"griser",children:b.bioText})})]}),_?Object(O.jsx)("div",{className:"editActuallyUser",children:Object(O.jsx)(u.b,{style:{color:"white"},to:"/profile/settings/"+e.pseudo,children:Object(O.jsx)("p",{children:"Edit user"})})}):Object(O.jsx)("div",{className:"followUserButton",children:Object(O.jsxs)("button",{disabled:ne,style:{display:"flex",alignItems:"center",justifyContent:"space-evenly"},onClick:function(){P(!0);var t=document.querySelector(".userProfile .bottomPart .followUserButton button");s("isFollowingButton"===$?K(b._id,e._id,t,ee,i,0,U,null):Y(b._id,e._id,t,ee,i,re,U,null))},id:"followButton",className:"btn followBTN ".concat($),children:[Object(O.jsx)(O.Fragment,{children:!1===q?Object(O.jsx)("img",{alt:"follow",src:D}):null}),"   ",Object(O.jsx)("p",{children:o})]})})]}),Object(O.jsxs)("div",{style:{display:"flex"},className:"seeTweetsOfUser",children:[Object(O.jsx)("div",{className:"tweetChoicer25",children:Object(O.jsxs)("div",{className:"tweetChoicerBloc25",children:[Object(O.jsx)("div",{className:"TweetsChoice",children:Object(O.jsx)(u.b,{onClick:function(){be(!0)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/user/"+b.userName,children:"Tweets"})}),Object(O.jsx)("div",{className:"TweetsAndRepliesChoice",children:Object(O.jsx)(u.b,{onClick:function(){be(!0)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/user/"+b.userName+"/with_replies",children:"Tweets and replies"})}),Object(O.jsx)("div",{className:"mediaChoice",children:Object(O.jsx)(u.b,{onClick:function(){be(!0)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/user/"+b.userName+"/media",children:"media"})}),Object(O.jsx)("div",{className:"likesChoice",children:Object(O.jsx)(u.b,{onClick:function(){be(!0)},exact:!0,activeClassName:"choiceActivedInProfile2513",to:"/user/"+b.userName+"/likes",children:"likes"})})]})}),Object(O.jsx)("div",{className:"allTweetsAndInformationsOfAPerson213",children:ie.sort((function(e,t){return t.date-e.date})).map((function(t,c){return Object(O.jsx)(H,{posterId:t.posterId,posterPseudo:t.posterPseudo,theTweet:t,index:c,EmptyConfig:t.EmptyConfig,userFollowings:t.userFollowings,posterName:t.posterName,user:e,likes:t.likes,userId:e._id,tweetId:t._id,date:t.date,userPicture:e.profilePicture,comments:t.comments,saves:t.saves,retweets:t.retweets,message:t.text,media:t.media},c)}))})]})]}),Object(O.jsx)(ce,{})]}):Object(O.jsx)("div",{className:"twitter-loader"})]}):window.location.replace("/login")})},Oe=function(){var e=Object(h.c)((function(e){return e.actuallyUserReducer})),t=window.location.href.split("/"),c=t[t.length-1],s=Object(r.useState)("#cfd9de"),n=Object(d.a)(s,2),a=n[0],o=n[1],i=Object(r.useState)("1px"),l=Object(d.a)(i,2),j=l[0],m=l[1],p=Object(r.useState)(e.pseudo),b=Object(d.a)(p,2),f=b[0],x=b[1],v=Object(r.useState)(!1),g=Object(d.a)(v,2),w=g[0],y=g[1],k=Object(r.useState)(!1),I=Object(d.a)(k,2),S=I[0],P=I[1],C=Object(r.useState)("nameInputPlaceHolderClassic"),B=Object(d.a)(C,2),_=B[0],E=B[1],T=Object(r.useState)(!1),L=Object(d.a)(T,2),F=L[0],z=L[1],M=Object(r.useState)(e.bio),R=Object(d.a)(M,2),q=R[0],H=R[1],U=Object(r.useState)("#cfd9de"),A=Object(d.a)(U,2),D=A[0],V=A[1],W=Object(r.useState)("1px"),Z=Object(d.a)(W,2),X=Z[0],G=Z[1],J=Object(r.useState)("bioInputPlaceHolderClassic"),Y=Object(d.a)(J,2),K=Y[0],Q=Y[1],$=Object(r.useState)(!1),ee=Object(d.a)($,2),te=ee[0],ce=ee[1],se=Object(r.useState)(""),ne=Object(d.a)(se,2),re=ne[0],ae=ne[1],oe=Object(r.useState)(""),ie=Object(d.a)(oe,2),le=ie[0],de=ie[1],ue=Object(r.useState)(!0),he=Object(d.a)(ue,2),pe=he[0],Oe=he[1],fe=Object(r.useState)(!0),xe=Object(d.a)(fe,2),ve=xe[0],ge=xe[1],we=Object(r.useState)(!1),Ne=Object(d.a)(we,2),ye=Ne[0],ke=Ne[1],Ie=Object(r.useState)(null),Se=Object(d.a)(Ie,2),Pe=Se[0],Ce=Se[1],Be=Object(r.useState)(null),_e=Object(d.a)(Be,2),Ee=_e[0],Te=_e[1];e.pseudo&&!1===ye&&(H(e.bio),x(e.name),y(!0),ke(!0));var Le=Object(r.useState)(!0),Fe=Object(d.a)(Le,2),ze=Fe[0],Me=Fe[1];Object(r.useEffect)((function(){if(document.querySelector("body").style.overflow="hidden",ze&&void 0!==e.profilePicture&&(ae(e.profilePicture),de(e.coverPicture),Me(!1)),pe){if(Pe){var t=new FormData;t.append("image",Pe,"profileImage"),N.a.post("https://tweeter-clone-back-22.onrender.com/auth/returnanypict",t).then((function(e){e.data&&ae(e.data.url+" ")})).catch((function(e){console.error("error attention attentat : "+e)}))}if(Ee){var c=new FormData;c.append("image",Ee,"coverImage"),N.a.post("https://tweeter-clone-back-22.onrender.com/auth/returnanypict",c).then((function(e){e.data&&de(e.data.url+" ")})).catch((function(e){console.error("error attention attentat : "+e)}))}Oe(!1)}w&&(""===f?(o("#e0245e"),ge(!0),P(!0)):(ge(!1),F?(o("#1da1f2"),P(!1)):(o("#cfd9de"),P(!1),E("nameInputPlaceHolderSelectedGray"))),""!==q?te?(V("#1da1f2"),G("2px")):(V("#cfd9de"),G("1px"),Q("bioInputPlaceHolderSelectedGray")):Q("bioInputPlaceHolderClassic"),y(!1))}),[a,j,w,Pe,Ee]);var Re=function(){var t=Object(me.a)(je.a.mark((function t(){var c,s,n,r,a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(c=new FormData).append("userId",e._id),c.append("image",Ee),ge(!0),t.next=6,N.a.post("https://tweeter-clone-back-22.onrender.com/auth/editCoverPicture",c).then((function(e){e.data||console.error("data introuvable erreur lors de la modificatino de la photo de profile")})).catch((function(e){console.error("error server (it's me): "+e)}));case 6:return(s=new FormData).append("userId",e._id),s.append("image",Pe),t.next=11,N.a.post("https://tweeter-clone-back-22.onrender.com/auth/editPicture",s).then((function(e){e.data||console.error("data introuvable erreur lors de la modification de la photo de profile")})).catch((function(e){console.error("error server (it's me): "+e)}));case 11:if(n=document.getElementById("nameInput25szef5sSdfezf1ezf156zef1891rt981br89sdqd196azdzef1A").value,r=document.getElementById("bioTextArea2156zef156f1z56d1e56d1Ses5f1ze6fXWfezfz56AZ").value,""===(a={name:n,bio:r,userId:e._id}).name){t.next=19;break}return t.next=17,N.a.post("https://tweeter-clone-back-22.onrender.com/auth/editUsertxt",a).then((function(e){e.data||console.error("data introuvable erreur lors de la modification des data textile de l'utilisateur")})).catch((function(e){console.error("error server (it's me): "+e)}));case 17:t.next=20;break;case 19:console.error("you can't modify your profile if name input is blank");case 20:ge(!1),window.location.href="/user/".concat(e.pseudo);case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),qe=e.pseudo.split(" ").join("%20");return Object(O.jsx)(O.Fragment,{children:c===qe?Object(O.jsxs)("div",{className:"SettingsProfile",children:[Object(O.jsx)("div",{className:"classicProfile",children:Object(O.jsx)(be,{})}),Object(O.jsxs)("div",{onClick:function(e){"nameInputDS26s"!==e.target.id?(m("1px"),""===f?(o("#e0245e"),E("nameInputPlaceHolderClassic")):(E("nameInputPlaceHolderSelectedGray"),o("#cfd9de")),z(!1)):(m("2px"),""===f?(o("#e0245e"),E("nameInputPlaceHolderSelectedRed")):(E("nameInputPlaceHolderSelectedBleu"),o("#1da1f2"))),"bioInput2135555dsq"!==e.target.id&&(V("#cfd9de"),G("1px"),Q(""===q?"bioInputPlaceHolderClassic":"bioInputPlaceHolderSelectedGray"))},className:"settingsPopupParent",children:[Object(O.jsx)("div",{className:"blackBackground"}),Object(O.jsxs)("div",{className:"settingsPopup",children:[Object(O.jsxs)("div",{className:"headPartOfPopup",children:[Object(O.jsxs)("div",{className:"leftPartOfHeadPart",children:[Object(O.jsx)(u.b,{onClick:function(){return document.querySelector("body").style.overflow="auto"},to:"/user/"+e.pseudo,children:Object(O.jsx)("svg",{className:"btn",width:"22",height:"22",fill:"#1da1f2",viewBox:"0 0 24 24","aria-hidden":"true",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M13.414 12l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L12 10.586 6.207 4.793c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L10.586 12l-5.793 5.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L12 13.414l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L13.414 12z"})})})}),Object(O.jsx)("div",{className:"EditProfileText",children:Object(O.jsx)("h2",{children:"Edit profile"})})]}),Object(O.jsx)("div",{className:"rightPartOfHeadPart",children:Object(O.jsx)("button",{onClick:Re,disabled:ve,className:"btn saveBtn saveButtonToModifyUser ".concat(ve?"disabled":""),children:"Save"})}),Object(O.jsx)("div",{className:"transistor"})]}),Object(O.jsxs)("div",{className:"containerOfPopup",children:[Object(O.jsxs)("div",{className:"pictureConfig",children:[Object(O.jsxs)("div",{style:{overflow:"hidden"},className:"covPicture",children:[le&&Object(O.jsx)("img",{style:{width:"100%",height:"300%"},alt:"coverPicture",src:le}),Object(O.jsx)("input",{onChange:function(e){Te(e.target.files[0]),Oe(!0)},type:"file",accept:"image/jpeg, image/png, image/jpg"}),Object(O.jsx)("svg",{width:"22",height:"22",fill:"#ffffff",viewBox:"0 0 24 24","aria-hidden":"true",children:Object(O.jsxs)("g",{children:[Object(O.jsx)("path",{d:"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083h2.146C7.633 3.17 9.722 2 12 2c2.277 0 4.367 1.17 5.562 3.083h2.146C20.972 5.083 22 6.11 22 7.375v12.333C22 20.972 20.972 22 19.708 22zM4.292 6.583c-.437 0-.792.355-.792.792v12.333c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V7.375c0-.437-.355-.792-.792-.792h-2.45c-.317.05-.632-.095-.782-.382-.88-1.665-2.594-2.7-4.476-2.7-1.883 0-3.598 1.035-4.476 2.702-.16.302-.502.46-.833.38H4.293z"}),Object(O.jsx)("path",{d:"M12 8.167c-2.68 0-4.86 2.18-4.86 4.86s2.18 4.86 4.86 4.86 4.86-2.18 4.86-4.86-2.18-4.86-4.86-4.86zm2 5.583h-1.25V15c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.25H10c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h1.25V11c0-.414.336-.75.75-.75s.75.336.75.75v1.25H14c.414 0 .75.336.75.75s-.336.75-.75.75z"})]})})]}),Object(O.jsxs)("div",{className:"prflPicture",children:[Object(O.jsx)("div",{className:"blackBackgroundTypeTwo"}),Object(O.jsx)("img",{id:"profileImageModifier23332sd",alt:"profile",src:re}),Object(O.jsx)("input",{onChange:function(e){Ce(e.target.files[0]),Oe(!0)},type:"file",accept:"image/jpeg, image/png, image/jpg"}),Object(O.jsx)("svg",{width:"22",height:"22",fill:"#ffffff",viewBox:"0 0 24 24","aria-hidden":"true",children:Object(O.jsxs)("g",{children:[Object(O.jsx)("path",{d:"M19.708 22H4.292C3.028 22 2 20.972 2 19.708V7.375C2 6.11 3.028 5.083 4.292 5.083h2.146C7.633 3.17 9.722 2 12 2c2.277 0 4.367 1.17 5.562 3.083h2.146C20.972 5.083 22 6.11 22 7.375v12.333C22 20.972 20.972 22 19.708 22zM4.292 6.583c-.437 0-.792.355-.792.792v12.333c0 .437.355.792.792.792h15.416c.437 0 .792-.355.792-.792V7.375c0-.437-.355-.792-.792-.792h-2.45c-.317.05-.632-.095-.782-.382-.88-1.665-2.594-2.7-4.476-2.7-1.883 0-3.598 1.035-4.476 2.702-.16.302-.502.46-.833.38H4.293z"}),Object(O.jsx)("path",{d:"M12 8.167c-2.68 0-4.86 2.18-4.86 4.86s2.18 4.86 4.86 4.86 4.86-2.18 4.86-4.86-2.18-4.86-4.86-4.86zm2 5.583h-1.25V15c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-1.25H10c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h1.25V11c0-.414.336-.75.75-.75s.75.336.75.75v1.25H14c.414 0 .75.336.75.75s-.336.75-.75.75z"})]})})]})]}),Object(O.jsx)("div",{className:"formConfig",children:Object(O.jsxs)("form",{children:[Object(O.jsx)("div",{style:{border:"".concat(j," solid ").concat(a)},className:"nameInput",children:Object(O.jsxs)("div",{className:"zc256qzercs",children:[Object(O.jsx)("span",{className:"nameInputPlaceholder ".concat(_),children:"Name"}),Object(O.jsx)("div",{className:"theInput",children:Object(O.jsx)("input",{id:"nameInput25szef5sSdfezf1ezf156zef1891rt981br89sdqd196azdzef1A",onChange:function(e){x(e.target.value),z(!0),y(!0)},onSelect:function(e){m("2px"),E(""!==f?"nameInputPlaceHolderSelectedBleu":"nameInputPlaceHolderSelectedRed")},type:"text",minLength:"2",maxLength:"50",value:f})})]})}),!0===S&&Object(O.jsx)("p",{style:{color:"#e0245e",marginTop:"5px"},id:"errorP2135qsdez",className:"errorP",children:"Name can\u2019t be blank"}),Object(O.jsx)("div",{style:{border:"".concat(X," solid ").concat(D)},className:"bioInput",children:Object(O.jsxs)("div",{className:"er2sdq6azefksi",children:[Object(O.jsx)("span",{className:"bioInputPlaceHolder ".concat(K),children:"Bio"}),Object(O.jsx)("div",{className:"theInput",children:Object(O.jsx)("textarea",{id:"bioTextArea2156zef156f1z56d1e56d1Ses5f1ze6fXWfezfz56AZ",onChange:function(e){H(e.target.value),ce(!0)},onSelect:function(e){Q("bioInputPlaceHolderSelectedBleu"),G("2px"),V("#1da1f2")},minLength:"5",maxLength:"160",style:{resize:"none"},value:q})})]})})]})})]})]})]})]}):Object(O.jsx)("h1",{children:"404 Not found !"})})},fe=function(){return Object(O.jsx)("div",{style:{width:"100%",height:"100vh",background:"white",position:"relative"},className:"LoadingPage",children:Object(O.jsx)("div",{style:{height:"72px",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},className:"containerOfLoadingPage",children:Object(O.jsx)("svg",{fill:"#1da1f2",width:"72",heigth:"72",viewBox:"0 0 24 24","aria-hidden":"true",class:"r-k200y r-13gxpu9 r-4qtqp9 r-yyyyoo r-eu3ka r-dnmrzs r-bnwqim r-1plcrui r-lrvibr",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z"})})})})})},xe=function(){var e=Object(h.c)((function(e){return e.usersReducer})),t=Object(h.c)((function(e){return e.actuallyUserReducer})),c=Object(h.c)((function(e){return e.hashtagsReducer})),s=Object(h.c)((function(e){return e.tweetsReducer})),n=Object(r.useState)([]),a=Object(d.a)(n,2),o=a[0],i=a[1],p=Object(r.useState)([]),b=Object(d.a)(p,2),f=b[0],x=b[1],v=Object(r.useState)([]),g=Object(d.a)(v,2),w=g[0],N=g[1],y=Object(r.useState)([]),k=Object(d.a)(y,2),I=k[0],S=k[1],P=Object(r.useState)(!0),C=Object(d.a)(P,2),B=C[0],_=C[1],E=Object(r.useState)(!1),T=Object(d.a)(E,2),L=T[0],F=T[1],z=Object(l.a)(e);window.onload=function(){z.sort((function(){return.5-Math.random()})).filter((function(e){return e._id!==o._id})),_(!0)};for(var M,R=document.cookie.split(";"),q=0;q<R.length;q++)try{var H=Object(m.a)(R[q]);H&&(M=H.id)}catch(W){console.error("this cookie are not valide")}Object(r.useEffect)((function(){B&&(i(t),x(e),N(c),S(s),M?f.length>0&&void 0!==o.pseudo&&w.length>0&&I.length>0?setTimeout((function(){F(!0)}),1100):F(!1):setTimeout((function(){F(!0)}),1100))}));var U=Object(r.useState)(!1),A=Object(d.a)(U,2),D=A[0],V=A[1];return Object(r.useEffect)((function(){D&&(S(s),V(!1))}),[D]),Object(O.jsx)("div",{className:"containerOfAll",children:L?Object(O.jsx)(u.a,{children:Object(O.jsxs)(j.c,{children:[Object(O.jsx)(j.a,{path:"/login",component:le,exact:!0}),Object(O.jsx)(j.a,{path:"/signup",component:de,exact:!0}),Object(O.jsx)(j.a,{path:"/home",exact:!0,children:Object(O.jsx)(ne,{setVerySpecialPounce:V,actuallyUser:o,actuallyHashtags:w,sortedUsers:z,tweets:I})}),Object(O.jsx)(j.a,{path:"/",exact:!0,component:function(){window.location.replace("/home")}}),Object(O.jsx)(j.a,{path:"/explore/tweets",children:Object(O.jsx)(ae,{setVerySpecialPounce:V})}),Object(O.jsx)(j.a,{path:"/explore/tweets/lastest",children:Object(O.jsx)(ae,{setVerySpecialPounce:V})}),Object(O.jsx)(j.a,{path:"/explore/tweets/people",children:Object(O.jsx)(ae,{setVerySpecialPounce:V})}),Object(O.jsx)(j.a,{path:"/explore/tweets/media",children:Object(O.jsx)(ae,{setVerySpecialPounce:V})}),Object(O.jsx)(j.a,{path:"/explore/tweets/top",children:Object(O.jsx)(ae,{setVerySpecialPounce:V})}),Object(O.jsx)(j.a,{path:"/i/bookmarks",component:oe}),Object(O.jsx)(j.a,{path:"/user/:name",component:be,strict:!0}),Object(O.jsx)(j.a,{path:"/user/:name/",component:be,strict:!0}),Object(O.jsx)(j.a,{path:"/user/:name/with_replies",component:be,strict:!0}),Object(O.jsx)(j.a,{path:"/user/:name/media",component:be,strict:!0}),Object(O.jsx)(j.a,{path:"/user/:name/likes",component:be,strict:!0}),Object(O.jsx)(j.a,{path:"/profile/settings/:name",strict:!0,exact:!0,component:Oe}),Object(O.jsx)(j.a,{component:ie})]})}):Object(O.jsx)(fe,{})})},ve=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,281)).then((function(t){var c=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),s(e),n(e),r(e),a(e)}))},ge=c(38),we=c(145),Ne=c(146),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(g.a)(Object(g.a)({},e),t.payload);case Z:return Object(g.a)(Object(g.a)({},e),{},{followings:[].concat(Object(l.a)(e.followings),[t.payload._id])});case X:var c=e.followings.filter((function(e){return e!==t.payload._id}));return Object(g.a)(Object(g.a)({},e),{},{followings:c});case C:var s=e.likes.filter((function(e){return e!==t.payload._id}));return Object(g.a)(Object(g.a)({},e),{},{likes:s});case P:return Object(g.a)(Object(g.a)({},e),{},{likes:[].concat(Object(l.a)(e.likes),[t.payload._id])});case I:return Object(g.a)(Object(g.a)({},e),{},{saves:[].concat(Object(l.a)(e.saves),[t.payload._id])});case S:var n=e.saves.filter((function(e){return e!==t.payload._id}));return Object(g.a)(Object(g.a)({},e),{},{saves:n});default:return e}},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return e.map((function(e){if(e._id===t.payload._id||e.date===t.payload._id){var c=e.saves=[].concat(Object(l.a)(e.saves),[t.payload._id]);return Object(g.a)(Object(g.a)({},e),{},{saves:c})}return e}));case S:return e.map((function(e,c){if(e._id+""===t.payload._id+""||e.date===t.payload._id){var s=e.saves.splice(c,c);return Object(g.a)(Object(g.a)({},e),{},{saves:s})}return e}));case P:case C:return e.map((function(e){return e._id===t.payload._id?t.payload:e}));case B:return e.map((function(e){if(e._id===t.payload.tweetToRetweetId||e.date===t.payload.tweetToRetweetId){e.retweets=[].concat(Object(l.a)(e.retweets),[t.payload._id]);var c=[].concat(Object(l.a)(e.retweets),[t.payload._id]);return Object(g.a)(Object(g.a)({},e),{},{retweets:c.filter((function(e,t){return c.indexOf(e)==t}))})}return e}));case _:return e.map((function(e,c){if(e._id===t.payload._id||e.date===t.payload._id){var s=e.retweets.splice(c,c);return Object(g.a)(Object(g.a)({},e),{},{retweets:s})}return e}));case k:return t.payload;case y:return[t.payload].concat(Object(l.a)(e));case E:return e.map((function(e){return e._id===t.payload.tweetToCommentId?Object(g.a)(Object(g.a)({},e),{},{comments:[t.payload.commentInfo].concat(Object(l.a)(e.comments))}):e}));case T:return e.map((function(e){if(e._id===t.payload.tweetId){var c=e.comments.map((function(e){return e._id===t.payload.commentId?Object(g.a)(Object(g.a)({},e),{},{likes:[t.payload.likerId].concat(Object(l.a)(e.likes))}):e}));return Object(g.a)(Object(g.a)({},e),{},{comments:c})}return e}));case L:return e.map((function(e){if(e._id===t.payload.tweetId){var c=e.comments.map((function(e){if(e._id===t.payload.commentId){var c=e.likes.filter((function(e){return e!==t.payload.likerId}));return Object(g.a)(Object(g.a)({},e),{},{likes:c})}return e}));return Object(g.a)(Object(g.a)({},e),{},{comments:c})}return e}));default:return e}},Ie="GET_ALL_HASHTAGS",Se=function(){return function(e){N.a.get("https://tweeter-clone-back-22.onrender.com/app/gethashtags").then((function(t){t.data.error?console.error(t.data.error):e({type:Ie,payload:t.data})})).catch((function(e){console.error(e)}))}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return t.payload;default:return e}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return t.payload;case Z:return e.map((function(e){if(e._id===t.payload._id){console.error("euh bonjour je suis le another log 1");var c=[].concat(Object(l.a)(e.followers),[t.payload._id]);return Object(g.a)(Object(g.a)({},e),{},{followers:c})}return e}));case X:return e.map((function(e,c){if(e._id===t.payload._id){console.error("euh bonjour je suis le log");var s=e.followers.splice(c,c);return Object(g.a)(Object(g.a)({},e),{},{followers:s})}return e}));case G:return e.map((function(e){if(e._id===t.payload._id){console.error("euh bonjour je suis le log 1");var c=[].concat(Object(l.a)(e.followers),[t.payload._id]);return Object(g.a)(Object(g.a)({},e),{},{followers:c})}return e}));case J:return e.map((function(e,c){if(e._id===t.payload._id){console.error("euh bonjour je suis le log");var s=e.followers.splice(c,c);return Object(g.a)(Object(g.a)({},e),{},{followers:s})}return e}));default:return e}},Be=Object(ge.combineReducers)({actuallyUserReducer:ye,tweetsReducer:ke,hashtagsReducer:Pe,usersReducer:Ce}),_e=Object(ge.createStore)(Be,Object(we.composeWithDevTools)(Object(ge.applyMiddleware)(Ne.a))),Ee=document.cookie.split(";"),Te=0;Te<Ee.length;Te++)try{var Le=Object(m.a)(Ee[Te]);Le&&(s=Le.id)}catch(Fe){console.error("this cookie are not valide")}s&&(_e.dispatch((n=s,function(e){N.a.get("https://tweeter-clone-back-22.onrender.com/auth/getuser/"+n).then((function(t){if(t.data&&!t.data.error)return e({type:V,payload:t.data})})).catch((function(e){console.error(e)}))})),_e.dispatch((function(e){N.a.get("https://tweeter-clone-back-22.onrender.com/app/gettweets").then((function(t){t.data.error?console.error(t.data.error):e({type:k,payload:t.data})})).catch((function(e){console.error("emm "+e)}))})),_e.dispatch(Se()),_e.dispatch((function(e){N.a.get("https://tweeter-clone-back-22.onrender.com/auth/getusers").then((function(t){if(!t.data.error)return e({type:W,payload:t.data});console.error(t.data.error)})).catch((function(e){console.error("emmm it's error:    "+e)}))}))),i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(h.a,{store:_e,children:Object(O.jsx)(xe,{})})}),document.getElementById("root")),ve()}},[[280,1,2]]]);
//# sourceMappingURL=main.179531c7.chunk.js.map